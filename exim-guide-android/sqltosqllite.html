<!DOCTYPE html>
<html><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# githubog: http://ogp.me/ns/fb/githubog#">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>MySQL to Sqlite converter</title>

  <meta content="authenticity_token" name="csrf-param">
<meta content="dLauQypXvWY1xyuKQr/WwnigsoyaSCmuKYQH8L2Nxss=" name="csrf-token">
  <meta name="viewport" content="width=960">


  <link type="text/plain" rel="author" href="https://github.com/humans.txt">
  <meta content="gist" name="octolytics-app-id"><meta content="collector.githubapp.com" name="octolytics-host"><meta content="collector-cdn.github.com" name="octolytics-script-host">

  <link href="sqltosqllite_files/application-648be5faf77295c484cbe25a8858dcf5.css" media="screen, print" rel="stylesheet">
  <script src="sqltosqllite_files/application-656a501b35d3c633fec72c024b16884f.js"></script><script src="sqltosqllite_files/ga.js" async="" type="text/javascript"></script>

    <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@github">
  <meta property="og:title" content="esperlu/mysql2sqlite.sh">
  <meta property="og:type" content="githubog:gist">
  <meta property="og:url" content="https://gist.github.com//esperlu/943776">
  <meta property="og:image" content="https://1.gravatar.com/avatar/db25102aeb2ef368e5976204126fb115?d=https%3A%2F%2Fidenticons.github.com%2F4914e3c2172f02308b1cc7f2183cac4e.png&amp;s=140">
  <meta property="og:site_name" content="GitHub Gists">
  <meta property="og:description" content="MySQL to Sqlite converter - Gist is a simple way to share snippets of text and code with others.">
  <meta name="description" content="MySQL to Sqlite converter - Gist is a simple way to share snippets of text and code with others.">

<script src="sqltosqllite_files/api.js"></script></head>

<body class=" ">

  <div id="wrapper">
    

    <div id="header" class="header header-logged-out">
      <div class="container">
        <a class="header-logo-wordmark" href="https://gist.github.com/">
          <span class="octicon octicon-logo-github"></span>
          <span class="octicon-logo octicon-logo-gist"></span>
        </a>

        <div class="header-actions">
          <a class="button primary" href="https://github.com/signup?return_to=gist">Sign up for a GitHub Account</a>
          <a class="button" href="https://gist.github.com/login?return_to=/esperlu/943776" data-skip-pjax="">Sign in</a>
        </div>
      </div>
    </div>

    <div class="site-content" id="js-pjax-container" data-pjax-container="">
      <div class=" site-container js-site-container" data-url="/esperlu/943776">
  
  <meta content="true" name="octolytics-dimension-public"><meta content="943776" name="octolytics-dimension-gist_id"><meta content="943776" name="octolytics-dimension-gist_name"><meta content="false" name="octolytics-dimension-anonymous"><meta content="731901" name="octolytics-dimension-owner_id"><meta content="esperlu" name="octolytics-dimension-owner_login"><meta content="false" name="octolytics-dimension-forked">

<div class="pagehead repohead">
  <div class="container">
    <div class="title-actions-bar">
      <ul class="pagehead-actions">


      </ul>
      <h1 itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public">
        <span class="repo-label"><span>public</span></span>
        <span class="mega-octicon octicon-gist"></span>
        <div class="meta">
          <div class="gist-author">
            <img src="sqltosqllite_files/db25102aeb2ef368e5976204126fb115.png" height="26" width="26">
            <span class="author vcard">
                <span itemprop="title"><a href="https://gist.github.com/esperlu">esperlu</a></span>
            </span> /
            <strong><a href="https://gist.github.com/esperlu/943776" class="js-current-repository">mysql2sqlite.sh</a></strong>
          </div>
          <div class="gist-timestamp">
              <span class="datetime">Last active <time class="js-relative-date" title="2014-01-08T17:11:02Z" datetime="2014-01-08T17:11:02Z">13 hours ago</time></span>
          </div>
      </div></h1>
    </div>

  </div>
</div>



<div class="gist-description container">
  <p>MySQL to Sqlite converter</p>
</div>

<div class="gist container js-gist-container" data-version="be469f0a0ab8962350f3c5ebe8459218b915f817">
    <div class="root-pane">
  <div class="menu-container">
    <ul class="menu gisttabs">
      <li>
        <a href="https://gist.github.com/esperlu/943776" class="selected">
          Gist Detail
        </a>
      </li>

        <li class="revision-count">
          <a href="https://gist.github.com/esperlu/943776/revisions">
            Revisions
            <span class="counter">11</span>
          </a>
        </li>

        <li>
          <a href="https://gist.github.com/esperlu/943776/stars">
            Stars
            <span class="counter">238</span>
          </a>
        </li>

        <li>
          <a href="https://gist.github.com/esperlu/943776/forks">
            Forks
            <span class="counter">74</span>
          </a>
        </li>
    </ul>
  </div>

  <ul class="export-references">
    <li>
      <a href="https://gist.github.com/esperlu/943776/download" class="minibutton" data-skip-pjax="true" rel="nofollow"><span class="octicon octicon-cloud-download"></span>Download Gist</a>
    </li>
    <li>
      <label for="url-field"><strong>Clone</strong> this gist</label>
      <input readonly="readonly" spellcheck="false" class="url-field js-url-field js-copy-toggle" name="url-field" value="/esperlu/943776" data-copy-toggle-display="/esperlu/943776" type="text">
    </li>
    <li>
      <label for="embed-field"><strong>Embed</strong> this gist</label>
      <input readonly="readonly" spellcheck="false" class="url-field js-url-field" name="embed-field" value="&lt;script src=&quot;https://gist.github.com/esperlu/943776.js&quot;&gt;&lt;/script&gt;" type="text">
    </li>
    <li>
      <label for="link-field"><strong>Link to</strong> this gist</label>
      <input readonly="readonly" spellcheck="false" class="url-field js-url-field" name="link-field" value="https://gist.github.com/esperlu/943776" type="text">
    </li>
  </ul>
</div>


  <div class="column files">
        <div id="file-mysql2sqlite-sh" class="bubble">
          <div class="file-box ">
            <div class="meta">
              <div class="file-info">
                <span class="file-type-icon"><span class="octicon octicon-gist"></span></span>
                <strong class="file-name js-selectable-text">mysql2sqlite.sh</strong>
              </div>
              <div class="file-actions">
                <span class="file-language">Shell</span>
                <ul class="button-group">
                  <li><a original-title="Permalink" href="#file-mysql2sqlite-sh" class="file-actions-button tooltipped downwards permalink"><span class="octicon octicon-link"></span></a></li>
                  <li><a original-title="View Raw" href="https://gist.github.com/esperlu/943776/raw/dd87f4088f6d5ec7563478f7a28a37ba02cf26e2/mysql2sqlite.sh" data-skip-pjax="" class="file-actions-button tooltipped downwards raw-url"><span class="octicon octicon-code"></span></a></li>
                </ul>
              </div>
            </div>
            <div class="suppressed">
              <a class="js-show-suppressed-file">File suppressed. Click to show.</a>
            </div>
            



    <div class="file-data">
      <table class="lines highlight" cellpadding="0" cellspacing="0">
        <tbody><tr>
          <td class="line-numbers">
            <span class="line-number" id="file-mysql2sqlite-sh-L1" rel="file-mysql2sqlite-sh-L1">1</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L2" rel="file-mysql2sqlite-sh-L2">2</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L3" rel="file-mysql2sqlite-sh-L3">3</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L4" rel="file-mysql2sqlite-sh-L4">4</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L5" rel="file-mysql2sqlite-sh-L5">5</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L6" rel="file-mysql2sqlite-sh-L6">6</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L7" rel="file-mysql2sqlite-sh-L7">7</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L8" rel="file-mysql2sqlite-sh-L8">8</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L9" rel="file-mysql2sqlite-sh-L9">9</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L10" rel="file-mysql2sqlite-sh-L10">10</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L11" rel="file-mysql2sqlite-sh-L11">11</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L12" rel="file-mysql2sqlite-sh-L12">12</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L13" rel="file-mysql2sqlite-sh-L13">13</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L14" rel="file-mysql2sqlite-sh-L14">14</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L15" rel="file-mysql2sqlite-sh-L15">15</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L16" rel="file-mysql2sqlite-sh-L16">16</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L17" rel="file-mysql2sqlite-sh-L17">17</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L18" rel="file-mysql2sqlite-sh-L18">18</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L19" rel="file-mysql2sqlite-sh-L19">19</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L20" rel="file-mysql2sqlite-sh-L20">20</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L21" rel="file-mysql2sqlite-sh-L21">21</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L22" rel="file-mysql2sqlite-sh-L22">22</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L23" rel="file-mysql2sqlite-sh-L23">23</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L24" rel="file-mysql2sqlite-sh-L24">24</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L25" rel="file-mysql2sqlite-sh-L25">25</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L26" rel="file-mysql2sqlite-sh-L26">26</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L27" rel="file-mysql2sqlite-sh-L27">27</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L28" rel="file-mysql2sqlite-sh-L28">28</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L29" rel="file-mysql2sqlite-sh-L29">29</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L30" rel="file-mysql2sqlite-sh-L30">30</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L31" rel="file-mysql2sqlite-sh-L31">31</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L32" rel="file-mysql2sqlite-sh-L32">32</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L33" rel="file-mysql2sqlite-sh-L33">33</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L34" rel="file-mysql2sqlite-sh-L34">34</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L35" rel="file-mysql2sqlite-sh-L35">35</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L36" rel="file-mysql2sqlite-sh-L36">36</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L37" rel="file-mysql2sqlite-sh-L37">37</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L38" rel="file-mysql2sqlite-sh-L38">38</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L39" rel="file-mysql2sqlite-sh-L39">39</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L40" rel="file-mysql2sqlite-sh-L40">40</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L41" rel="file-mysql2sqlite-sh-L41">41</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L42" rel="file-mysql2sqlite-sh-L42">42</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L43" rel="file-mysql2sqlite-sh-L43">43</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L44" rel="file-mysql2sqlite-sh-L44">44</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L45" rel="file-mysql2sqlite-sh-L45">45</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L46" rel="file-mysql2sqlite-sh-L46">46</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L47" rel="file-mysql2sqlite-sh-L47">47</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L48" rel="file-mysql2sqlite-sh-L48">48</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L49" rel="file-mysql2sqlite-sh-L49">49</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L50" rel="file-mysql2sqlite-sh-L50">50</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L51" rel="file-mysql2sqlite-sh-L51">51</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L52" rel="file-mysql2sqlite-sh-L52">52</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L53" rel="file-mysql2sqlite-sh-L53">53</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L54" rel="file-mysql2sqlite-sh-L54">54</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L55" rel="file-mysql2sqlite-sh-L55">55</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L56" rel="file-mysql2sqlite-sh-L56">56</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L57" rel="file-mysql2sqlite-sh-L57">57</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L58" rel="file-mysql2sqlite-sh-L58">58</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L59" rel="file-mysql2sqlite-sh-L59">59</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L60" rel="file-mysql2sqlite-sh-L60">60</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L61" rel="file-mysql2sqlite-sh-L61">61</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L62" rel="file-mysql2sqlite-sh-L62">62</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L63" rel="file-mysql2sqlite-sh-L63">63</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L64" rel="file-mysql2sqlite-sh-L64">64</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L65" rel="file-mysql2sqlite-sh-L65">65</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L66" rel="file-mysql2sqlite-sh-L66">66</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L67" rel="file-mysql2sqlite-sh-L67">67</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L68" rel="file-mysql2sqlite-sh-L68">68</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L69" rel="file-mysql2sqlite-sh-L69">69</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L70" rel="file-mysql2sqlite-sh-L70">70</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L71" rel="file-mysql2sqlite-sh-L71">71</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L72" rel="file-mysql2sqlite-sh-L72">72</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L73" rel="file-mysql2sqlite-sh-L73">73</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L74" rel="file-mysql2sqlite-sh-L74">74</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L75" rel="file-mysql2sqlite-sh-L75">75</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L76" rel="file-mysql2sqlite-sh-L76">76</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L77" rel="file-mysql2sqlite-sh-L77">77</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L78" rel="file-mysql2sqlite-sh-L78">78</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L79" rel="file-mysql2sqlite-sh-L79">79</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L80" rel="file-mysql2sqlite-sh-L80">80</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L81" rel="file-mysql2sqlite-sh-L81">81</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L82" rel="file-mysql2sqlite-sh-L82">82</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L83" rel="file-mysql2sqlite-sh-L83">83</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L84" rel="file-mysql2sqlite-sh-L84">84</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L85" rel="file-mysql2sqlite-sh-L85">85</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L86" rel="file-mysql2sqlite-sh-L86">86</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L87" rel="file-mysql2sqlite-sh-L87">87</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L88" rel="file-mysql2sqlite-sh-L88">88</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L89" rel="file-mysql2sqlite-sh-L89">89</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L90" rel="file-mysql2sqlite-sh-L90">90</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L91" rel="file-mysql2sqlite-sh-L91">91</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L92" rel="file-mysql2sqlite-sh-L92">92</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L93" rel="file-mysql2sqlite-sh-L93">93</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L94" rel="file-mysql2sqlite-sh-L94">94</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L95" rel="file-mysql2sqlite-sh-L95">95</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L96" rel="file-mysql2sqlite-sh-L96">96</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L97" rel="file-mysql2sqlite-sh-L97">97</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L98" rel="file-mysql2sqlite-sh-L98">98</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L99" rel="file-mysql2sqlite-sh-L99">99</span>
            <span class="line-number" id="file-mysql2sqlite-sh-L100" rel="file-mysql2sqlite-sh-L100">100</span>
          </td>
          <td class="line-data">
            <pre class="line-pre"><div class="line" id="file-mysql2sqlite-sh-LC1"><span class="c">#!/bin/sh</span></div><div class="line" id="file-mysql2sqlite-sh-LC2">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC3"><span class="c"># Converts a mysqldump file into a Sqlite 3 compatible file. It also extracts the MySQL `KEY xxxxx` from the</span></div><div class="line" id="file-mysql2sqlite-sh-LC4"><span class="c"># CREATE block and create them in separate commands _after_ all the INSERTs.</span></div><div class="line" id="file-mysql2sqlite-sh-LC5">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC6"><span class="c"># Awk is choosen because it's fast and portable. You can use gawk, original awk or even the lightning fast mawk.</span></div><div class="line" id="file-mysql2sqlite-sh-LC7"><span class="c"># The mysqldump file is traversed only once.</span></div><div class="line" id="file-mysql2sqlite-sh-LC8">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC9"><span class="c"># Usage: $ ./mysql2sqlite mysqldump-opts db-name | sqlite3 database.sqlite</span></div><div class="line" id="file-mysql2sqlite-sh-LC10"><span class="c"># Example: $ ./mysql2sqlite --no-data -u root -pMySecretPassWord myDbase | sqlite3 database.sqlite</span></div><div class="line" id="file-mysql2sqlite-sh-LC11">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC12"><span class="c"># Thanks to and @artemyk and @gkuenning for their nice tweaks.</span></div><div class="line" id="file-mysql2sqlite-sh-LC13">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC14">mysqldump  --compatible<span class="o">=</span>ansi --skip-extended-insert --compact  <span class="s2">"$@"</span> <span class="p">|</span> <span class="se">\</span></div><div class="line" id="file-mysql2sqlite-sh-LC15">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC16">awk <span class="s1">'</span></div><div class="line" id="file-mysql2sqlite-sh-LC17">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC18"><span class="s1">BEGIN {</span></div><div class="line" id="file-mysql2sqlite-sh-LC19"><span class="s1">	FS=",$"</span></div><div class="line" id="file-mysql2sqlite-sh-LC20"><span class="s1">	print "PRAGMA synchronous = OFF;"</span></div><div class="line" id="file-mysql2sqlite-sh-LC21"><span class="s1">	print "PRAGMA journal_mode = MEMORY;"</span></div><div class="line" id="file-mysql2sqlite-sh-LC22"><span class="s1">	print "BEGIN TRANSACTION;"</span></div><div class="line" id="file-mysql2sqlite-sh-LC23"><span class="s1">}</span></div><div class="line" id="file-mysql2sqlite-sh-LC24">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC25"><span class="s1"># CREATE TRIGGER statements have funny commenting.  Remember we are in trigger.</span></div><div class="line" id="file-mysql2sqlite-sh-LC26"><span class="s1">/^\/\*.*CREATE.*TRIGGER/ {</span></div><div class="line" id="file-mysql2sqlite-sh-LC27"><span class="s1">	gsub( /^.*TRIGGER/, "CREATE TRIGGER" )</span></div><div class="line" id="file-mysql2sqlite-sh-LC28"><span class="s1">	print</span></div><div class="line" id="file-mysql2sqlite-sh-LC29"><span class="s1">	inTrigger = 1</span></div><div class="line" id="file-mysql2sqlite-sh-LC30"><span class="s1">	next</span></div><div class="line" id="file-mysql2sqlite-sh-LC31"><span class="s1">}</span></div><div class="line" id="file-mysql2sqlite-sh-LC32">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC33"><span class="s1"># The end of CREATE TRIGGER has a stray comment terminator</span></div><div class="line" id="file-mysql2sqlite-sh-LC34"><span class="s1">/END \*\/;;/ { gsub( /\*\//, "" ); print; inTrigger = 0; next }</span></div><div class="line" id="file-mysql2sqlite-sh-LC35">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC36"><span class="s1"># The rest of triggers just get passed through</span></div><div class="line" id="file-mysql2sqlite-sh-LC37"><span class="s1">inTrigger != 0 { print; next }</span></div><div class="line" id="file-mysql2sqlite-sh-LC38">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC39"><span class="s1"># Skip other comments</span></div><div class="line" id="file-mysql2sqlite-sh-LC40"><span class="s1">/^\/\*/ { next }</span></div><div class="line" id="file-mysql2sqlite-sh-LC41">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC42"><span class="s1"># Print all `INSERT` lines. The single quotes are protected by another single quote.</span></div><div class="line" id="file-mysql2sqlite-sh-LC43"><span class="s1">/INSERT/ {</span></div><div class="line" id="file-mysql2sqlite-sh-LC44"><span class="s1">	gsub( /\\\047/, "\047\047" )</span></div><div class="line" id="file-mysql2sqlite-sh-LC45"><span class="s1">	gsub(/\\n/, "\n")</span></div><div class="line" id="file-mysql2sqlite-sh-LC46"><span class="s1">	gsub(/\\r/, "\r")</span></div><div class="line" id="file-mysql2sqlite-sh-LC47"><span class="s1">	gsub(/\\"/, "\"")</span></div><div class="line" id="file-mysql2sqlite-sh-LC48"><span class="s1">	gsub(/\\\\/, "\\")</span></div><div class="line" id="file-mysql2sqlite-sh-LC49"><span class="s1">	gsub(/\\\032/, "\032")</span></div><div class="line" id="file-mysql2sqlite-sh-LC50"><span class="s1">	print</span></div><div class="line" id="file-mysql2sqlite-sh-LC51"><span class="s1">	next</span></div><div class="line" id="file-mysql2sqlite-sh-LC52"><span class="s1">}</span></div><div class="line" id="file-mysql2sqlite-sh-LC53">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC54"><span class="s1"># Print the `CREATE` line as is and capture the table name.</span></div><div class="line" id="file-mysql2sqlite-sh-LC55"><span class="s1">/^CREATE/ {</span></div><div class="line" id="file-mysql2sqlite-sh-LC56"><span class="s1">	print</span></div><div class="line" id="file-mysql2sqlite-sh-LC57"><span class="s1">	if ( match( $0, /\"[^\"]+/ ) ) tableName = substr( $0, RSTART+1, RLENGTH-1 ) </span></div><div class="line" id="file-mysql2sqlite-sh-LC58"><span class="s1">}</span></div><div class="line" id="file-mysql2sqlite-sh-LC59">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC60"><span class="s1"># Replace `FULLTEXT KEY` or any other `XXXXX KEY` except PRIMARY by `KEY`</span></div><div class="line" id="file-mysql2sqlite-sh-LC61"><span class="s1">/^  [^"]+KEY/ &amp;&amp; !/^  PRIMARY KEY/ { gsub( /.+KEY/, "  KEY" ) }</span></div><div class="line" id="file-mysql2sqlite-sh-LC62">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC63"><span class="s1"># Get rid of field lengths in KEY lines</span></div><div class="line" id="file-mysql2sqlite-sh-LC64"><span class="s1">/ KEY/ { gsub(/\([0-9]+\)/, "") }</span></div><div class="line" id="file-mysql2sqlite-sh-LC65">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC66"><span class="s1"># Print all fields definition lines except the `KEY` lines.</span></div><div class="line" id="file-mysql2sqlite-sh-LC67"><span class="s1">/^  / &amp;&amp; !/^(  KEY|\);)/ {</span></div><div class="line" id="file-mysql2sqlite-sh-LC68"><span class="s1">	gsub( /AUTO_INCREMENT|auto_increment/, "" )</span></div><div class="line" id="file-mysql2sqlite-sh-LC69"><span class="s1">	gsub( /(CHARACTER SET|character set) [^ ]+ /, "" )</span></div><div class="line" id="file-mysql2sqlite-sh-LC70"><span class="s1">	gsub( /DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP|default current_timestamp on update current_timestamp/, "" )</span></div><div class="line" id="file-mysql2sqlite-sh-LC71"><span class="s1">	gsub( /(COLLATE|collate) [^ ]+ /, "" )</span></div><div class="line" id="file-mysql2sqlite-sh-LC72"><span class="s1">	gsub(/(ENUM|enum)[^)]+\)/, "text ")</span></div><div class="line" id="file-mysql2sqlite-sh-LC73"><span class="s1">	gsub(/(SET|set)\([^)]+\)/, "text ")</span></div><div class="line" id="file-mysql2sqlite-sh-LC74"><span class="s1">	gsub(/UNSIGNED|unsigned/, "")</span></div><div class="line" id="file-mysql2sqlite-sh-LC75"><span class="s1">	if (prev) print prev ","</span></div><div class="line" id="file-mysql2sqlite-sh-LC76"><span class="s1">	prev = $1</span></div><div class="line" id="file-mysql2sqlite-sh-LC77"><span class="s1">}</span></div><div class="line" id="file-mysql2sqlite-sh-LC78">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC79"><span class="s1"># `KEY` lines are extracted from the `CREATE` block and stored in array for later print </span></div><div class="line" id="file-mysql2sqlite-sh-LC80"><span class="s1"># in a separate `CREATE KEY` command. The index name is prefixed by the table name to </span></div><div class="line" id="file-mysql2sqlite-sh-LC81"><span class="s1"># avoid a sqlite error for duplicate index name.</span></div><div class="line" id="file-mysql2sqlite-sh-LC82"><span class="s1">/^(  KEY|\);)/ {</span></div><div class="line" id="file-mysql2sqlite-sh-LC83"><span class="s1">	if (prev) print prev</span></div><div class="line" id="file-mysql2sqlite-sh-LC84"><span class="s1">	prev=""</span></div><div class="line" id="file-mysql2sqlite-sh-LC85"><span class="s1">	if ($0 == ");"){</span></div><div class="line" id="file-mysql2sqlite-sh-LC86"><span class="s1">		print</span></div><div class="line" id="file-mysql2sqlite-sh-LC87"><span class="s1">	} else {</span></div><div class="line" id="file-mysql2sqlite-sh-LC88"><span class="s1">		if ( match( $0, /\"[^"]+/ ) ) indexName = substr( $0, RSTART+1, RLENGTH-1 ) </span></div><div class="line" id="file-mysql2sqlite-sh-LC89"><span class="s1">		if ( match( $0, /\([^()]+/ ) ) indexKey = substr( $0, RSTART+1, RLENGTH-1 ) </span></div><div class="line" id="file-mysql2sqlite-sh-LC90"><span class="s1">		key[tableName]=key[tableName] "CREATE INDEX \"" tableName "_" indexName "\" ON \"" tableName "\" (" indexKey ");\n"</span></div><div class="line" id="file-mysql2sqlite-sh-LC91"><span class="s1">	}</span></div><div class="line" id="file-mysql2sqlite-sh-LC92"><span class="s1">}</span></div><div class="line" id="file-mysql2sqlite-sh-LC93">&nbsp;</div><div class="line" id="file-mysql2sqlite-sh-LC94"><span class="s1"># Print all `KEY` creation lines.</span></div><div class="line" id="file-mysql2sqlite-sh-LC95"><span class="s1">END {</span></div><div class="line" id="file-mysql2sqlite-sh-LC96"><span class="s1">	for (table in key) printf key[table]</span></div><div class="line" id="file-mysql2sqlite-sh-LC97"><span class="s1">	print "END TRANSACTION;"</span></div><div class="line" id="file-mysql2sqlite-sh-LC98"><span class="s1">}</span></div><div class="line" id="file-mysql2sqlite-sh-LC99"><span class="s1">'</span></div><div class="line" id="file-mysql2sqlite-sh-LC100"><span class="nb">exit </span>0</div></pre>
          </td>
        </tr>
      </tbody></table>
    </div>

          </div>
        </div>
    <div id="comments" class="new-comments">
      
<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/db25102aeb2ef368e5976204126fb115.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-28699">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/esperlu" class="comment-header-author">esperlu</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-28699">
              <a href="https://gist.github.com/esperlu/943776/#comment-28699">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-28699">
              <a href="https://gist.github.com/esperlu/943776/#comment-28699" class="comment-header-date">
                <time class="js-relative-date" title="2011-04-27T06:20:35Z" datetime="2011-04-27T06:20:35Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <h2>Generalities</h2>

<p>This small shell script should help you to convert a <strong>mysqldump</strong> file into a <strong>Sqlite3</strong> compatible file. </p>

<p>Works with the <em>original awk</em>, <em>gawk</em> and <em>mawk</em>. If you have, like me, laaarge files to convert (millions of lines) you better off using the lightning fast <em>mawk</em>. For these large files you could also consider using a csv export from MySQL and the <em>import</em> Sqlite command.</p>

<p>As usual: your mileage may vary but if you have any issue with this snippet, ping me and I'll see what I can do.</p>

<h2>Usage</h2>

<p>Usual stuff:</p>

<ul>
<li>copy paste this in a file, say: <em>mysql2sqlite.sh</em> file</li>
<li>make it executable: <code>$ chmod +x mysql2sqlite.sh</code>
</li>
<li>run it <code>$ ./mysql2sqlite.sh  -u MyUserName -pMySecretPassWord myDbase | sqlite3 database.sqlite</code>
</li>
</ul><p>If you only need to create the table structures without data:<br><code>$ ./mysql2sqlite.sh  --no-data -u MyUserName -pMySecretPassWord myDbase | sqlite3 database.sqlite</code></p>

<h2>Remarks</h2>

<ul>
<li>In the INSERTs, the single quote must be protected as SQLite doesn't like the <code>Ten o\'clock</code> mysqldump format. It is changed to <code>Ten o''clock</code>
</li>
<li>It isn't necessary to convert the <code>varchar()</code> data typa as SQLite accepts them in version 3. Read more over <a href="http://www.sqlite.org/datatype3.html">Data Typa affinity</a> in the Sqlite doc.</li>
<li>The <code>AUTO_INCREMENT</code> is not necessary as it is more or less automatically activated for keys declared as PRIMARY. <a href="http://www.sqlite.org/faq.html#q1">Read more...</a>
</li>
<li>The COLLATE declaration is removed to let SQLite collate by its default BINARY rule (<a href="http://www.sqlite.org/datatype3.html#collation">Read more</a>) . If BINARY is not what you are after, SQLite let you define <a href="http://www.sqlite.org/c3ref/create_collation.html">User Defined Collation</a>
</li>
<li>
<code>enum</code> and <code>set</code> data types are not supported in SQLite. They are therefore converted to <code>text</code>.</li>
<li>In a CREATE block, Sqlite only accepts a PRIMARY KEY declaration. 
Not the single KEY's that have to be removed from the block and added at
 the end. See example below. They are added <em>after</em> all the INSERT's to speed up the all process.</li>
<li>As far as I know, in MySQL, when you create a KEY (INDEX), it is 
attached in some way to its table. Not in SQLite. Therefore, all KEY 
declaration are prefixed by its table name to avoid SQLite error for 
duplicate key name.</li>
</ul><h3>Release notes:</h3>

<p><a href="https://gist.github.com/943776/afb04cb97a0977fd1422d5dff7cc02b116238cfb">https://gist.github.com/943776/afb04cb97a0977fd1422d5dff7cc02b116238cfb</a></p>

<ul>
<li>Deal with key-length specifications in both primary and secondary keys  (<a href="https://gist.github.com/artemyk" class="user-mention">@artemyk</a> and <a href="https://gist.github.com/gkuenning" class="user-mention">@gkuenning</a>)</li>
<li>INSERT sanitization (<a href="https://gist.github.com/artemyk" class="user-mention">@artemyk</a>)</li>
<li>partial trigger support (<a href="https://gist.github.com/gkuenning" class="user-mention">@gkuenning</a>). Still some issue when MySQL dumps an INSERT statement like <code>INSERT INTO test2 SET a2 = NEW.a1;</code> a MySQL syntax extension not supported by SQLite.</li>
<li>substantial speed optimization using transactions for inserts (<a href="https://gist.github.com/gkuenning" class="user-mention">@gkuenning</a>).</li>
</ul><h2>Example</h2>

<h3>Typical mysqldump output:</h3>

<pre><code>/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE "clients" (
  "CODCLI" varchar(6) NOT NULL DEFAULT '',
  "NAME" varchar(10) NOT NULL DEFAULT '',
  "STAT" char(2) NOT NULL DEFAULT '',
  "VRP" char(2) NOT NULL DEFAULT '',
  "TEL" varchar(15) NOT NULL DEFAULT '',
  "EMAIL" varchar(100) NOT NULL,
  PRIMARY KEY ("CODCLI"),
  FULLTEXT KEY "NAME" ("NAME")
);
/*!40101 SET character_set_client = @saved_cs_client */;
</code></pre>

<h3>This will be converted as:</h3>

<pre><code>CREATE TABLE "clients" (
  "CODCLI" varchar(6) NOT NULL DEFAULT '',
  "NAME" varchar(10) NOT NULL DEFAULT '',
  "STAT" char(2) NOT NULL DEFAULT '',
  "VRP" char(2) NOT NULL DEFAULT '',
  "TEL" varchar(15) NOT NULL DEFAULT '',
  "EMAIL" varchar(100) NOT NULL,
  PRIMARY KEY ("CODCLI")
);
CREATE INDEX "clients_NAME" ON "clients" ("NAME");
</code></pre>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/a2dad1944b2bd4f773c336f379c63614.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-31207">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/afrade" class="comment-header-author">afrade</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-31207">
              <a href="https://gist.github.com/esperlu/943776/#comment-31207">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-31207">
              <a href="https://gist.github.com/esperlu/943776/#comment-31207" class="comment-header-date">
                <time class="js-relative-date" title="2011-05-17T15:34:07Z" datetime="2011-05-17T15:34:07Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Hi!<br>
Thanks for your work, and for the code..<br>
It didnt work for me, because I didn't know that I should use a mysqldump, something that I even don't know what is.<br>
But the major problem is that after trying to run the script, my 
terminal became weird.. Now I can't type "/" (slash), nether copy it. 
What  happened?? What would I do without typing "/"???</p>

<p>I tried to reinstall terminal, no lucky (didn't find a way to do it);<br>
I tried to reinstall X11, no lucky (didn't find a way to do it);</p>

<p>Can You please help me whit this issue, please?? I'm becoming crazy.<br>
Thanks in advise.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/db25102aeb2ef368e5976204126fb115.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-31382">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/esperlu" class="comment-header-author">esperlu</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-31382">
              <a href="https://gist.github.com/esperlu/943776/#comment-31382">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-31382">
              <a href="https://gist.github.com/esperlu/943776/#comment-31382" class="comment-header-date">
                <time class="js-relative-date" title="2011-05-18T13:57:12Z" datetime="2011-05-18T13:57:12Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Hi,</p>

<p>Yes, you must use mysqldump to dump your MySQL database. Use it first
 with the --no-data option to generate a basic output. In my script, the
 output is piped into the awk snippet. If everything works as expected, 
remove the option to process all the inserts.</p>

<p>Pretty standard stuff that shoudn't freeze your terminal.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/4f27789423d2622097f54c3805d9dc15.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-32610">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/warren-runk" class="comment-header-author">warren-runk</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-32610">
              <a href="https://gist.github.com/esperlu/943776/#comment-32610">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-32610">
              <a href="https://gist.github.com/esperlu/943776/#comment-32610" class="comment-header-date">
                <time class="js-relative-date" title="2011-05-25T18:56:11Z" datetime="2011-05-25T18:56:11Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Sqlite3 doesn't like the auto_increment used in this 
fashion: (this is a segment of the dump that would go into sqlite3 after
 running through your script)</p>

<p>Note this is an attempt at a migration from a django app running on mysql to sqlite</p>

<p>CREATE TABLE "auth_group" (<br>
  "id" int(11) NOT NULL auto_increment,<br>
  "name" varchar(80) NOT NULL,<br>
  PRIMARY KEY  ("id")<br>
);</p>

<p>Any thoughts? Thanks for the script!</p>

<p>EDIT: After actually reading your script :P, I copied line 35 and added:<br>
gsub( / auto_increment/, "" )</p>

<p>which took care of this lower case situation.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/4f27789423d2622097f54c3805d9dc15.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-32699">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/warren-runk" class="comment-header-author">warren-runk</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-32699">
              <a href="https://gist.github.com/esperlu/943776/#comment-32699">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-32699">
              <a href="https://gist.github.com/esperlu/943776/#comment-32699" class="comment-header-date">
                <time class="js-relative-date" title="2011-05-26T04:30:19Z" datetime="2011-05-26T04:30:19Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Unfortunately this script didn't play well with a 
utf-8 encoded mysql database. Once the data was in sqlite, Django would 
fail trying to read fields that had non-ascii characters. Ultimately I 
did:</p>

<p>Set the django settings to use a new sqlitedb file.<br>
$ python manage.py syncdb (I chose no on creating any users)</p>

<p>$ mysqldump --skip-extended-insert --compact -u **  -p** &gt; mysql_dump.db</p>

<p>Because I am lazy, I manually deleted all lines in the mysql_dump.db 
except for INSERT lines (cause syncdb created the schema for me).</p>

<p>$ cat mysql_dump.db | sed -e 's/`/"/g' | sed -e "s/\\'/''/g" | sed -e
 's/\\"/"/g' | sed -e 's/\r//g' | sed -e 's/\n//g' | sqlite3 evite.db</p>

<p>Im sure there are a lot less stupid ways to do this, but this worked.</p>

<p>This database contained a lot of html and json, and both worked as expected afterwards.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/db25102aeb2ef368e5976204126fb115.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-32725">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/esperlu" class="comment-header-author">esperlu</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-32725">
              <a href="https://gist.github.com/esperlu/943776/#comment-32725">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-32725">
              <a href="https://gist.github.com/esperlu/943776/#comment-32725" class="comment-header-date">
                <time class="js-relative-date" title="2011-05-26T09:45:31Z" datetime="2011-05-26T09:45:31Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>@ warren-runk Fort the <code>auto_increment</code> problem, you could also make the replacement case insensitive by adding <code>IGNORECASE=1</code>  in the <code>BEGIN</code> block:</p>

<pre><code>BEGIN{ FS=",$"; IGNORECASE=1}
</code></pre>

<p>But be aware that only GNU awk supports that built-in variable. I have edited the script to make case insensitive replacements.</p>

<p>As for the utf-8 problem, you could also put awk at work to replace all characters sqlite3 doesn't like in:</p>

<pre><code># Print all `INSERT` lines. The single quotes are protected by another single quote.
/INSERT/ {
    gsub( /\\\047/, "\047\047" )
    gsub( /pattern/, "replacement" )
    print
    next
}
</code></pre>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/4f27789423d2622097f54c3805d9dc15.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-32829">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/warren-runk" class="comment-header-author">warren-runk</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-32829">
              <a href="https://gist.github.com/esperlu/943776/#comment-32829">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-32829">
              <a href="https://gist.github.com/esperlu/943776/#comment-32829" class="comment-header-date">
                <time class="js-relative-date" title="2011-05-26T17:50:48Z" datetime="2011-05-26T17:50:48Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Cool thanks. I am definitely lacking awk fu. The 
utf-8 issue is tough because sqlite3 is fine with the import, but the 
django app cannot decode the data. So it is quite tough to debug :(</p>

<p>One example is what appears to be a windows smart single quote [ ’ ] 
will turn into # (or so sqlite says when viewing rows via the console), 
and will then cause this error when trying to retrieve via django1.2:</p>

<p>...django/db/backends/sqlite3/base.py", line 200, in execute<br>
return Database.Cursor.execute(self, query, params)<br>
DatabaseError: Could not decode to UTF-8 column...</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/6fddb56860f309424672985416cf923b.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-34453">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/artemyk" class="comment-header-author">artemyk</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-34453">
              <a href="https://gist.github.com/esperlu/943776/#comment-34453">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-34453">
              <a href="https://gist.github.com/esperlu/943776/#comment-34453" class="comment-header-date">
                <time class="js-relative-date" title="2011-06-06T22:47:27Z" datetime="2011-06-06T22:47:27Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Dear esperlu,</p>

<p>I believe there is a bug in your script when handling MySQL partial 
indexes.  An example of this could be a varchar column only be indexed 
on the first 10 characters: </p>

<pre><code>create table test_table (id int not null primary key auto_increment, txtfld varchar(50), index (txtfld(10))  );
</code></pre>

<p>(I'm running this code runs on MySQL 5.1.49)</p>

<p>Here's a sample shell script that demonstrates the error:</p>

<div class="highlight"><pre><span class="c">#!/bin/bash</span>

<span class="nb">echo</span> <span class="s2">"drop database if exists m2stest; create database m2stest; use m2stest; \</span>
<span class="s2">create table test_table (id int not null primary key auto_increment, txtfld varchar(50), index (txtfld(10))  );</span>
<span class="s2">"</span> <span class="p">|</span>mysql -u root

rm m2stest.sqlite 
./mysql2sqlite.sh &gt; m2stest.sql
cat m2stest.sql <span class="p">|</span> sqlite3 m2stest.sqlite

<span class="nb">echo</span> <span class="s2">"drop database m2stest;"</span> <span class="p">|</span> mysql -u root
</pre></div>

<p>I get:<br>
Error: near line 6: near "(": syntax error<br>
where Line 6 in m2stest.sql is:</p>

<pre><code>CREATE INDEX "test_table_txtfld" ON "test_table" ("txtfld"(10);
</code></pre>

<p>You can see its parsing the index definition wrong.  I was able to fix it by changing the line:</p>

<pre><code>           if ( match( $0, /\([^\)]+/ ) ) indexKey = substr( $0, RSTART+1, RLENGTH-1 ) 
</code></pre>

<p>to:</p>

<pre><code>           if ( match( $0, /\(([^\(\)]+(\([^\)]+\))?)+[^\)]*/ ) ) indexKey = substr( $0, RSTART+1, RLENGTH-1 ) 
            gsub(/\([^\)]+\)/, "", indexKey);
</code></pre>

<p>That is, it will now find indexKey by matching to a closing 
parenthesis, while omitting (one-level deep) nested parenthesis along 
the way (such as those used to specify index length).  The next gsub 
line should cut those nested parenthesis blocks out (as a result, 
partial indexes are converted to full column indexes by this script).</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/6fddb56860f309424672985416cf923b.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-34475">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/artemyk" class="comment-header-author">artemyk</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-34475">
              <a href="https://gist.github.com/esperlu/943776/#comment-34475">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-34475">
              <a href="https://gist.github.com/esperlu/943776/#comment-34475" class="comment-header-date">
                <time class="js-relative-date" title="2011-06-07T03:40:25Z" datetime="2011-06-07T03:40:25Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Another thing I changed was added extra de-escaping 
(Mysql backslash-escapes double quotes, CRs, newlines, etc.).  
Apparently Sqlite3 doesn't:</p>

<pre><code>/INSERT/ { gsub( /\\\047/, "\047\047" ); print; next }
</code></pre>

<p>to:</p>

<pre><code>/INSERT/ { 
gsub( /\\\047/, "\047\047" ); 
gsub(/\\n/, "\n");
gsub(/\\r/, "\r");
gsub(/\\"/, "\"");
gsub(/\\\\/, "\\");
gsub(/\\\032/, "\032");
print; 
next }
</code></pre>

<p>This actually doesn't handle escaping that could occur in default values of table declarations, but its a start...</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/db25102aeb2ef368e5976204126fb115.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-34596">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/esperlu" class="comment-header-author">esperlu</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-34596">
              <a href="https://gist.github.com/esperlu/943776/#comment-34596">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-34596">
              <a href="https://gist.github.com/esperlu/943776/#comment-34596" class="comment-header-date">
                <time class="js-relative-date" title="2011-06-07T19:50:17Z" datetime="2011-06-07T19:50:17Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>@ artemyk</p>

<p>You are right for the index creation. I just checked and SQlite 
doesn't seem to support indexing on a column subset. Just changed these 
two lines to get rid of that:</p>

<pre><code>    if ( match( $0, /\"[^"]+/ ) ) indexName = substr( $0, RSTART+1, RLENGTH-1 ) 
    if ( match( $0, /\([^()]+/ ) ) indexKey = substr( $0, RSTART+1, RLENGTH-1 ) 
</code></pre>

<p>This should return an index creation line on the full key:</p>

<pre><code> CREATE INDEX "test_table_txtfld" ON "test_table" ("txtfld");
</code></pre>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/6fddb56860f309424672985416cf923b.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-34612">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/artemyk" class="comment-header-author">artemyk</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-34612">
              <a href="https://gist.github.com/esperlu/943776/#comment-34612">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-34612">
              <a href="https://gist.github.com/esperlu/943776/#comment-34612" class="comment-header-date">
                <time class="js-relative-date" title="2011-06-07T21:38:55Z" datetime="2011-06-07T21:38:55Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Hi Esperlu,</p>

<p>That was my initial attempt also, but I changed it to the code I posted<br>
earlier.  The reason is if you have a key name like:</p>

<p>(name(10), id, city)</p>

<p>then your code will truncate it at</p>

<p>name</p>

<p>The gsub stuff I have will eliminate nested parens.</p>

<p>Best,<br>
-Artemy</p>

<p>On Tue, Jun 7, 2011 at 3:50 PM, esperlu &lt;<br><a href="mailto:reply@reply.github.com">reply@reply.github.com</a>&gt;wrote:</p>

<blockquote>
<p>@ artemyk</p>

<p>You are right for the index creation. I just checked and SQlite doesn't<br>
seem to support indexing on a column subset. Just changed these two lines to<br>
get rid of that:</p>

<pre><code>           if ( match( $0, /\"[^"]+/ ) ) indexName = substr( $0,
</code></pre>

<p>RSTART+1, RLENGTH-1 )<br>
               if ( match( $0, /([^()]+/ ) ) indexKey = substr( $0,<br>
RSTART+1, RLENGTH-1 )</p>

<p>This should return an index creation line on the full key:</p>

<pre><code>CREATE INDEX "test_table_txtfld" ON "test_table" ("txtfld");
</code></pre>

<h2></h2>

<p>Reply to this email directly or view it on GitHub:<br><a href="https://gist.github.com/943776">https://gist.github.com/943776</a></p>
</blockquote>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/db25102aeb2ef368e5976204126fb115.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-34652">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/esperlu" class="comment-header-author">esperlu</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-34652">
              <a href="https://gist.github.com/esperlu/943776/#comment-34652">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-34652">
              <a href="https://gist.github.com/esperlu/943776/#comment-34652" class="comment-header-date">
                <time class="js-relative-date" title="2011-06-08T06:37:22Z" datetime="2011-06-08T06:37:22Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Right again. Wouldn't this be enough?</p>

<pre><code>    if ( match( $0, /\(.+\)/ ) ) indexKey = substr( $0, RSTART+1, RLENGTH-2 ); gsub(/\([^)]+\)/,"", indexKey)
</code></pre>

<p>Can you also tell me more about that escape thing above so that I can
 do some testing and change the script accordingly? Thanks for your 
input anyway.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/6fddb56860f309424672985416cf923b.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-35101">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/artemyk" class="comment-header-author">artemyk</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-35101">
              <a href="https://gist.github.com/esperlu/943776/#comment-35101">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-35101">
              <a href="https://gist.github.com/esperlu/943776/#comment-35101" class="comment-header-date">
                <time class="js-relative-date" title="2011-06-10T20:33:25Z" datetime="2011-06-10T20:33:25Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Hi esperlu,</p>

<p>Right again. Wouldn't this be enough?</p>

<blockquote>
<pre><code>           if ( match( $0, /\(.+\)/ ) ) indexKey = substr( $0,
</code></pre>

<p>RSTART+1, RLENGTH-2 ); gsub(/([^)]+)/,"", indexKey)</p>
</blockquote>

<p>If I'm not mistaken, for an index on something like (blahfield(20),<br>
idfield), using your regex, indexKey will be "blahfield(20".</p>

<p>Do you see something wrong with the regular expression that I posted in my<br>
comment to the github page?  I think it should accomplish what you need it<br>
to.</p>

<p>Best,<br>
-Artemy</p>

<blockquote>
<p>Can you also tell me more about that escape thing above so that I can do<br>
some testing and change the script accordingly? Thanks for your input<br>
anyway.</p>

<h2></h2>

<p>Reply to this email directly or view it on GitHub:<br><a href="https://gist.github.com/943776">https://gist.github.com/943776</a></p>
</blockquote>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/167b7f4b5e3b447e738ec897661f5c80.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-36526">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/gkuenning" class="comment-header-author">gkuenning</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-36526">
              <a href="https://gist.github.com/esperlu/943776/#comment-36526">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-36526">
              <a href="https://gist.github.com/esperlu/943776/#comment-36526" class="comment-header-date">
                <time class="js-relative-date" title="2011-06-20T08:17:29Z" datetime="2011-06-20T08:17:29Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Here's a patch that does several things:</p>

<p>1) mysqldump user/password and db name aren't hardwired; instead the script takes them as arguments.<br>
2) Add pragmas and begin/end transactions to speed up insertion a LOT (over 1000X in my case).<br>
3) Handle mysqldump's very goofy formatting of CREATE TRIGGER.<br>
4) Deal with key-length specifications in both primary and secondary 
keys.  The code here is much simpler than that proposed by artemyk; I 
just zap any parenthesized string of digits.  It works perfectly on my 
DB; I can't make promises for anybody else but I think it's the right 
approach.</p>

<p>I have also tried hard to match the coding style of the original, 
since I'm a huge believer in consistency over my own prejudices. ;-)</p>

<div class="highlight"><pre><span class="gd">--- mysql2sqlite        2011-06-08 07:44:33.000000000 +1200</span>
<span class="gi">+++ /usr/local/bin/mysql2sqlite 2011-06-20 19:57:20.000000000 +1200</span>
<span class="gu">@@ -6,22 +6,49 @@</span>
 # Converts a mysqldump file into a Sqlite 3 compatible file. It also extracts the MySQL `KEY xxxxx` from the
 # CREATE block and create them in separate commands _after_ all the INSERTs.

<span class="gd">-# Usage: $ ./mysql2sqlite | sqlite3 database.sqlite</span>
<span class="gi">+# Usage: $ ./mysql2sqlite mysqldump-opts db-name | sqlite3 database.sqlite</span>

<span class="gd">-mysqldump  --compatible=ansi --skip-extended-insert --compact -u **** -p******  datbase_name | \</span>
<span class="gi">+echo "PRAGMA synchronous = OFF;"</span>
<span class="gi">+echo "PRAGMA journal_mode = MEMORY;"</span>
<span class="gi">+echo "BEGIN TRANSACTION;"</span>
<span class="gi">+</span>
<span class="gi">+mysqldump  --compatible=ansi --skip-extended-insert --compact "$@" | \</span>


 awk -F ",$" '

 BEGIN{ FS=",$" }

<span class="gd">-# Skip comments</span>
<span class="gi">+# CREATE TRIGGER statements have funny commenting.  Remember we are in trigger.</span>
<span class="gi">+/^\/\*.*CREATE.*TRIGGER/ {</span>
<span class="gi">+       gsub( /^.*TRIGGER/, "CREATE TRIGGER" )</span>
<span class="gi">+       print</span>
<span class="gi">+       inTrigger = 1</span>
<span class="gi">+       next</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="gi">+# The end of CREATE TRIGGER has a stray comment terminator</span>
<span class="gi">+/END \*\/;;/ { gsub( /\*\//, "" ); print; inTrigger = 0; next }</span>
<span class="gi">+</span>
<span class="gi">+# The rest of triggers just get passed through</span>
<span class="gi">+inTrigger != 0 { print; next }</span>
<span class="gi">+</span>
<span class="gi">+# Skip other comments</span>
 /^\/\*/ { next }

 # Print all `INSERT` lines. The single quotes are protected by another single quote.
<span class="gd">-/INSERT/ { gsub( /\\\047/, "\047\047" ); print; next }</span>
<span class="gi">+/INSERT/ {</span>
<span class="gi">+       gsub( /\\\047/, "\047\047" )</span>
<span class="gi">+       gsub(/\\n/, "\n")</span>
<span class="gi">+       gsub(/\\r/, "\r")</span>
<span class="gi">+       gsub(/\\"/, "\"")</span>
<span class="gi">+       gsub(/\\\\/, "\\")</span>
<span class="gi">+       gsub(/\\\032/, "\032")</span>
<span class="gi">+       print</span>
<span class="gi">+       next</span>
<span class="gi">+}</span>

<span class="gd">-# Print the Â´CREATEÂ´ line as is and capture the table name.</span>
<span class="gi">+# Print the `CREATE` line as is and capture the table name.</span>
 /^CREATE/ {
        print
        if ( match( $0, /\"[^\"]+/ ) ) tableName = substr( $0, RSTART+1, RLENGTH-1 ) 
<span class="gu">@@ -30,6 +57,9 @@</span>
 # Replace `FULLTEXT KEY` or any other `XXXXX KEY` except PRIMARY by `KEY`
 /^  [^"]+KEY/ &amp;&amp; !/^  PRIMARY KEY/ { gsub( /.+KEY/, "  KEY" ) }

<span class="gi">+# Get rid of field lengths in KEY lines</span>
<span class="gi">+/ KEY/ { gsub(/\([0-9]+\)/, "") }</span>
<span class="gi">+</span>
 # Print all fields definition lines except the `KEY` lines.
 /^  / &amp;&amp; !/^(  KEY|\);)/ {
        gsub( /AUTO_INCREMENT|auto_increment/, "" )
<span class="gu">@@ -63,3 +93,5 @@</span>
        for (table in key) printf key[table]
 }
 ' 
<span class="gi">+</span>
<span class="gi">+echo "END TRANSACTION;"</span>
</pre></div>

<p>edited by <a href="https://gist.github.com/esperlu" class="user-mention">@esperlu</a> for block formatting.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/6fddb56860f309424672985416cf923b.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-36598">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/artemyk" class="comment-header-author">artemyk</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-36598">
              <a href="https://gist.github.com/esperlu/943776/#comment-36598">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-36598">
              <a href="https://gist.github.com/esperlu/943776/#comment-36598" class="comment-header-date">
                <time class="js-relative-date" title="2011-06-20T17:34:28Z" datetime="2011-06-20T17:34:28Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Hi,</p>

<p>A couple of things:</p>

<ul>
<li>I tried your new code. I could not get patch to apply the diff 
perfectly (but that might be my fault, I've never used patch/diff 
before). So I had to apply some changes by hand.</li>
<li>The new patch seems to work really well. First of all, its 
superfast. And it now gives me zero errors on the database I was 
previously trying to convert (the database is a mediawiki install with 
some data in it)</li>
<li>A small bug: I think <code>/ KEY/ { gsub(/\([0-9]+\)/, "") }</code> should be: <code>/^ KEY/ { gsub(/\([0-9]+\)/, "") }</code> (that way you don't match things like default values for varchar fields and such (right now, if a varchar is defined like: <code>textfield" varchar(50) default 'MY DEFAULT KEY(10)</code> your code would catch it)</li>
</ul><p>Best, -A</p>

<p>Edited by <a href="https://gist.github.com/esperlu" class="user-mention">@esperlu</a> for formating</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/db25102aeb2ef368e5976204126fb115.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-36607">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/esperlu" class="comment-header-author">esperlu</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-36607">
              <a href="https://gist.github.com/esperlu/943776/#comment-36607">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-36607">
              <a href="https://gist.github.com/esperlu/943776/#comment-36607" class="comment-header-date">
                <time class="js-relative-date" title="2011-06-20T17:54:58Z" datetime="2011-06-20T17:54:58Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p><a href="https://gist.github.com/gkuenning" class="user-mention">@gkuenning</a>: got a Hunk #1 FAILED at 6 with your patch. I'll see what the problem is.</p>

<p><a href="https://gist.github.com/artemyk" class="user-mention">@artemyk</a>: sorry for the late reply. I will test your pattern above and incorporate it.</p>

<p>Thanks to both.</p>

<p>Jean-Luc.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/db25102aeb2ef368e5976204126fb115.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-36610">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/esperlu" class="comment-header-author">esperlu</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-36610">
              <a href="https://gist.github.com/esperlu/943776/#comment-36610">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-36610">
              <a href="https://gist.github.com/esperlu/943776/#comment-36610" class="comment-header-date">
                <time class="js-relative-date" title="2011-06-20T18:01:14Z" datetime="2011-06-20T18:01:14Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p><a href="https://gist.github.com/gkuenning" class="user-mention">@gkuenning</a>: got it sorted out.</p>

<p>Mod pushed. Thanks.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/d61333f787443917fd6932a20c2baa70.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-36720">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/d-rome" class="comment-header-author">d-rome</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-36720">
              <a href="https://gist.github.com/esperlu/943776/#comment-36720">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-36720">
              <a href="https://gist.github.com/esperlu/943776/#comment-36720" class="comment-header-date">
                <time class="js-relative-date" title="2011-06-21T05:07:19Z" datetime="2011-06-21T05:07:19Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>This is exactly what I was looking for, thank you for your contribution esperlu &amp; above!</p>

<pre><code>1) mysqldump user/password and db name aren't hardwired; instead the script takes them as arguments.
</code></pre>

<p>Can you update this part of your mini-doc:</p>

<pre><code>- mysqldump --compatible=ansi --skip-extended-insert --compact -u **** -p******  datbase_name
+ mysqldump --compatible=ansi --no-data --compact -u **** -p******  datbase_name
</code></pre>

<p>to</p>

<pre><code>- mysqldump --compatible=ansi --skip-extended-insert --compact  "$@" | \
+ mysqldump --compatible=ansi --no-data --compact  "$@" | \
</code></pre>

<p>to reflect change 1) you made?</p>

<p>Thanks again, this script rocks!</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/db25102aeb2ef368e5976204126fb115.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-36724">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/esperlu" class="comment-header-author">esperlu</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-36724">
              <a href="https://gist.github.com/esperlu/943776/#comment-36724">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-36724">
              <a href="https://gist.github.com/esperlu/943776/#comment-36724" class="comment-header-date">
                <time class="js-relative-date" title="2011-06-21T05:50:58Z" datetime="2011-06-21T05:50:58Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p><a href="https://gist.github.com/d-rome" class="user-mention">@d-rome</a>: done. Thanks for mentioning it. And BTW, it's <a href="https://gist.github.com/gkuenning" class="user-mention">@gkuenning</a> who suggested this change. Credits should go to him.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/167b7f4b5e3b447e738ec897661f5c80.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-36927">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/gkuenning" class="comment-header-author">gkuenning</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-36927">
              <a href="https://gist.github.com/esperlu/943776/#comment-36927">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-36927">
              <a href="https://gist.github.com/esperlu/943776/#comment-36927" class="comment-header-date">
                <time class="js-relative-date" title="2011-06-22T04:21:31Z" datetime="2011-06-22T04:21:31Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p><a href="https://gist.github.com/artemyk" class="user-mention">@artemyk</a>, sorry for the slow response.</p>

<p>I used the pattern / KEY/ in the gsub because you need to match 
PRIMARY KEY declarations.  If the pattern causes errors as-is, I guess 
we need to change it to /^  KEY|^  PRIMARY KEY/.  (I just tested that 
pattern and it works for my situation.)</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/db25102aeb2ef368e5976204126fb115.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-36947">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/esperlu" class="comment-header-author">esperlu</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-36947">
              <a href="https://gist.github.com/esperlu/943776/#comment-36947">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-36947">
              <a href="https://gist.github.com/esperlu/943776/#comment-36947" class="comment-header-date">
                <time class="js-relative-date" title="2011-06-22T08:43:50Z" datetime="2011-06-22T08:43:50Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>For <a href="https://gist.github.com/artemyk" class="user-mention">@artemyk</a>'s remark I suggest the following:</p>

<pre><code>--- /home/jeanluc/scripts/mysql2sqlite/sh/gist-943776/mysql2sqlite  2011-06-20 21:12:45.000000000 +0200
+++ mysql2sqlite.sh 2011-06-22 10:38:00.000000000 +0200
@@ -63,3 +63,3 @@
 # Get rid of field lengths in KEY lines
-/ KEY/ { gsub(/\([0-9]+\)/, "") }
+/^  (PRIMARY )?KEY/{ gsub(/\([0-9]+\)/, "") }
</code></pre>

<p>Seems to work. Waiting for your testing before I push it.</p>

<p>Jean-Luc.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/167b7f4b5e3b447e738ec897661f5c80.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-36963">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/gkuenning" class="comment-header-author">gkuenning</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-36963">
              <a href="https://gist.github.com/esperlu/943776/#comment-36963">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-36963">
              <a href="https://gist.github.com/esperlu/943776/#comment-36963" class="comment-header-date">
                <time class="js-relative-date" title="2011-06-22T11:53:28Z" datetime="2011-06-22T11:53:28Z">3 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>That works and is cleaner than my regex.  I like it!</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/d41d8cd98f00b204e9800998ecf8427e.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-40891">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/valllllll2000" class="comment-header-author">valllllll2000</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-40891">
              <a href="https://gist.github.com/esperlu/943776/#comment-40891">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-40891">
              <a href="https://gist.github.com/esperlu/943776/#comment-40891" class="comment-header-date">
                <time class="js-relative-date" title="2011-07-18T16:16:30Z" datetime="2011-07-18T16:16:30Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>HI guys I am not very experienced with these tools so
 I have tried your script and it is great work!  but I have some 
encoding problem with sqlite in Android. All the latin-1 type caracters 
such as é è, ç are not read correctly and are transformed inot what 
seems like chinese characters. What could I do? I saw there was some 
answer above about utf-8 but I don't understand it. In the original DB 
(php admin, sql) everything is fine My sqlite Db is in utf-8 encoding by
 default so what is wrong? Thanks for your help</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/e23866cc892e67aec756406a481d7010.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-42616">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/hplc" class="comment-header-author">hplc</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-42616">
              <a href="https://gist.github.com/esperlu/943776/#comment-42616">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-42616">
              <a href="https://gist.github.com/esperlu/943776/#comment-42616" class="comment-header-date">
                <time class="js-relative-date" title="2011-07-28T09:57:44Z" datetime="2011-07-28T09:57:44Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>From <a href="http://www.sqlite.org/cvstrac/wiki?p=UnsupportedSql">http://www.sqlite.org/cvstrac/wiki?p=UnsupportedSql</a>,
 sqlite doesn't support table and column comments, If mysqldump output 
contains COMMENT(like in my Drupal7 case),  there will cause error 
importing to sqlite. So the COMMENT stuffs should be cut off.</p>

<p>I also count some UTF-8 problem, there's many non-English characters 
in MySQL, it all become question mark '?'. In order to solve this 
problem, just add --default-character-set=utf8 to mysqldump.</p>

<p>And I suggest to run sqlite3 with -echo, you can see what's going on there if there's some error.</p>

<p>Below is the patch for cutting COMMENT:</p>

<pre>--- mysql2sqlite.sh.orig        2011-07-28 11:50:20.000000000 +0800
+++ mysql2sqlite.sh     2011-07-28 17:33:24.000000000 +0800
@@ -57,6 +57,9 @@
        if ( match( $0, /\"[^\"]+/ ) ) tableName = substr( $0, RSTART+1, RLENGTH-1 )
 }

+# Replace table and column COMMENT
+/ COMMENT '.*'/ { gsub( / COMMENT '.*'/, "" ) }
+
 # Replace `FULLTEXT KEY` or any other `XXXXX KEY` except PRIMARY by `KEY`
 /^  [^"]+KEY/ &amp;&amp; !/^  PRIMARY KEY/ { gsub( /.+KEY/, "  KEY" ) }
</pre>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/8adc50a2bb097731d1443b4c847b13a1.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-43296">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/cyberix" class="comment-header-author">cyberix</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-43296">
              <a href="https://gist.github.com/esperlu/943776/#comment-43296">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-43296">
              <a href="https://gist.github.com/esperlu/943776/#comment-43296" class="comment-header-date">
                <time class="js-relative-date" title="2011-08-02T14:17:08Z" datetime="2011-08-02T14:17:08Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Hi,</p>

<p>i am rather new to shell scripting and do not understand the 
parameters in your "usage-example" when calling the script for 
execution!? Is "myDbase" the MySQL dump file? And for what purpose do i 
need username and password? Will the script write a file to my current 
directory which is named "database.sqlite" and contains the sqlite dump?</p>

<p>is there any more detailed example of usage?</p>

<p>cyberix</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/167b7f4b5e3b447e738ec897661f5c80.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-43401">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/gkuenning" class="comment-header-author">gkuenning</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-43401">
              <a href="https://gist.github.com/esperlu/943776/#comment-43401">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-43401">
              <a href="https://gist.github.com/esperlu/943776/#comment-43401" class="comment-header-date">
                <time class="js-relative-date" title="2011-08-02T20:57:19Z" datetime="2011-08-02T20:57:19Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Hi, cyberix,</p>

<p>myDbase is the name of a MySQL database.  There's no need for the 
name of a dump file, because the script runs mysqldump and captures its 
output directly.</p>

<p>The script itself (mysql2sqlite.sh) writes sqlite3 commands to its 
standard output.  You can capture that into a file with the "&gt;" 
symbol and later feed it into sqlite3's standard input with the "&lt;" 
symbol:</p>

<pre><code>mysql2sqlite.sh [parameters] &gt; saved-commands
[do other stuff]
sqlite3 some-database-name.sqlite3 &lt; saved-commands
</code></pre>

<p>However, most people just want the Sqlite3 database, so they avoid 
creating the scratch file (here, I've called it "saved-commands").  
Instead, they use the single greatest invention in Unix, the pipe symbol
 (vertical bar), which directly connects the standard output from the 
first command to the standard input of the second.  In this case:</p>

<pre><code>mysql2sqlite.sh [parameters] | sqlite3 some-database-name.sqlite3
</code></pre>

<p>That will run the conversion script with the given parameters and 
feed the result directly into sqlite3, which will then create the 
database you want (here, "some-database-name.sqlite3" -- a pretty bad 
name!).</p>

<p>You need the username and password only if you would need them when 
running the "mysql" command.  For example, my username defaults to my 
login name and I have a passwordless mysql account (that's safe, since 
it's on a private server).  So I can talk to my photos database with 
simply:</p>

<pre><code>mysql photos
</code></pre>

<p>and that means I can convert it to sqlite3 with:</p>

<pre><code>mysql2sqlite.sh photos | sqlite3 photos.sqlite3
</code></pre>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/e23866cc892e67aec756406a481d7010.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-43453">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/hplc" class="comment-header-author">hplc</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-43453">
              <a href="https://gist.github.com/esperlu/943776/#comment-43453">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-43453">
              <a href="https://gist.github.com/esperlu/943776/#comment-43453" class="comment-header-date">
                <time class="js-relative-date" title="2011-08-03T02:39:15Z" datetime="2011-08-03T02:39:15Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>In my situation, I need to convert Drupal7's database from MySQL 5.0 to SQLite 3.7.</p>

<p>As in Drupal7 MySQL database, all column with auto_increment must be 
the primary key. So I add some code to replace PRIMARY KEY and 
auto_increment, this patch works for me.<br>
The raw file is here: <a href="http://525183.serverbox.org/drupal7/mysql2sqlite.sh">http://525183.serverbox.org/drupal7/mysql2sqlite.sh</a></p>

<pre>--- mysql2sqlite.sh.orig        2011-07-28 11:50:20.000000000 +0800
+++ mysql2sqlite.sh     2011-08-03 09:36:45.000000000 +0800
@@ -13,6 +13,18 @@

 mysqldump  --compatible=ansi --skip-extended-insert --compact  "$@" | \

+
+awk '
+# Replace PRIMARY KEY if theres auto_increment
+BEGIN { RS="/CREATE TABLE /" }
+/NOT NULL auto_increment/ {
+        gsub( /,\n  PRIMARY KEY  \(\"[a-z_]+\"\)/, "" )
+        print
+        next
+}
+' | \
+
+
 awk '

 BEGIN {
@@ -57,6 +69,12 @@
        if ( match( $0, /\"[^\"]+/ ) ) tableName = substr( $0, RSTART+1, RLENGTH-1 )
 }

+#Replace auto_increment with AUTOINCREMENT
+/int\([0-9]+\) NOT NULL auto_increment/ { gsub( /int\([0-9]+\) NOT NULL auto_increment/, "INTEGER PRIMARY KEY AUTOINCREMENT" ) }
+
+#Replace table and column COMMENT
+/ COMMENT '.*'/ { gsub( / COMMENT '.*'/, "" ) }
+
 # Replace `FULLTEXT KEY` or any other `XXXXX KEY` except PRIMARY by `KEY`
 /^  [^"]+KEY/ &amp;&amp; !/^  PRIMARY KEY/ { gsub( /.+KEY/, "  KEY" ) }

@@ -97,4 +115,5 @@
        print "END TRANSACTION;"
 }
 '
+
 exit 0
</pre>

<p><strong>For Example</strong><br>
mysqldump --no-data --default-character-set=utf8 --compatible=ansi --skip-extended-insert --compact -uusername -p drupal7<br><strong>Output(The last table):</strong></p>

<pre>CREATE TABLE "watchdog" (
  "wid" int(11) NOT NULL auto_increment,
  "uid" int(11) NOT NULL default '0',
  "type" varchar(64) NOT NULL default '' COMMENT 'Type of log message, for example "user" or "page not found."',
  "message" longtext NOT NULL,
  "variables" longblob NOT NULL COMMENT 'Serialized array of variables that match the message string and that is passed into the t() function.',
  "severity" tinyint(3) unsigned NOT NULL default '0',
  "link" varchar(255) default '' COMMENT 'Link to view the result of the event.',
  "location" text NOT NULL,
  "referer" text,
  "hostname" varchar(128) NOT NULL default '',
  "timestamp" int(11) NOT NULL default '0',
  PRIMARY KEY  ("wid"),
  KEY "type" ("type"),
  KEY "uid" ("uid")
);
</pre>

<p><strong>With my patch it will be converted to:</strong></p>

<pre>CREATE TABLE "watchdog" (
  "wid" INTEGER PRIMARY KEY AUTOINCREMENT,
  "uid" int(11) NOT NULL default '0',
  "type" varchar(64) NOT NULL default '',
  "message" longtext NOT NULL,
  "variables" longblob NOT NULL,
  "severity" tinyint(3)  NOT NULL default '0',
  "link" varchar(255) default '',
  "location" text NOT NULL,
  "referer" text,
  "hostname" varchar(128) NOT NULL default '',
  "timestamp" int(11) NOT NULL default '0'
);
CREATE INDEX "watchdog_type" ON "watchdog" ("type");
CREATE INDEX "watchdog_uid" ON "watchdog" ("uid");
</pre>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/99a765fd4258f81009f5be28bfb408e4.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-52314">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/xikyu46" class="comment-header-author">xikyu46</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-52314">
              <a href="https://gist.github.com/esperlu/943776/#comment-52314">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-52314">
              <a href="https://gist.github.com/esperlu/943776/#comment-52314" class="comment-header-date">
                <time class="js-relative-date" title="2011-09-23T08:13:51Z" datetime="2011-09-23T08:13:51Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>This shell code working for my database. It's very helpful. Thanks. :D</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/6b17165d23ead15e66854ff882c59e0c.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-52640">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/martinbean" class="comment-header-author">martinbean</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-52640">
              <a href="https://gist.github.com/esperlu/943776/#comment-52640">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-52640">
              <a href="https://gist.github.com/esperlu/943776/#comment-52640" class="comment-header-date">
                <time class="js-relative-date" title="2011-09-25T13:02:25Z" datetime="2011-09-25T13:02:25Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>When trying to run the file, I'm getting the following error:</p>

<pre><code>./mysql2sqlite.sh: line 14: mysqldump: command not found
memory
</code></pre>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/1496b8171a80c09be580414afa013b6a.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-56553">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/mrtorrent" class="comment-header-author">mrtorrent</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-56553">
              <a href="https://gist.github.com/esperlu/943776/#comment-56553">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-56553">
              <a href="https://gist.github.com/esperlu/943776/#comment-56553" class="comment-header-date">
                <time class="js-relative-date" title="2011-10-14T14:13:14Z" datetime="2011-10-14T14:13:14Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Hello, great script! SQLite's auto-incrementing only 
works if a column is declared as integer, even if the declared datatype 
is one of the ones that SQLite maps to integer (bigint, etc.). So, if 
you have primary key auto-increment columns that are something else and 
use the output of the script, they will not auto-increment. The 
workaround is to replace these datatype declarations with integer, since
 that's what SQLite considers them, anyway (<a href="http://www.sqlite.org/datatype3.html#affname">SQLite type affinities</a>).</p>

<p>I pushed a fix in <a href="https://gist.github.com/1287049">my fork</a>:</p>

<pre><code>diff --git a/mysql2sqlite.sh b/mysql2sqlite.sh
index dd87f40..1e6e856 100644
--- a/mysql2sqlite.sh
+++ b/mysql2sqlite.sh
@@ -3,7 +3,7 @@
 # Converts a mysqldump file into a Sqlite 3 compatible file. It also extracts t
 # CREATE block and create them in separate commands _after_ all the INSERTs.

-# Awk is choosen because it's fast and portable. You can use gawk, original awk
+# Awk is chosen because it's fast and portable. You can use gawk, original awk 
 # The mysqldump file is traversed only once.

 # Usage: $ ./mysql2sqlite mysqldump-opts db-name | sqlite3 database.sqlite
@@ -72,6 +72,7 @@ inTrigger != 0 { print; next }
        gsub(/(ENUM|enum)[^)]+\)/, "text ")
        gsub(/(SET|set)\([^)]+\)/, "text ")
        gsub(/UNSIGNED|unsigned/, "")
+       gsub(/" [^ ]*(INT|int)[^ ]*/, "\" integer")
        if (prev) print prev ","
        prev = $1
 }
</code></pre>

<p>Also, technically the behaviour of SQLite's INTEGER PRIMARY KEY 
auto-incrementing is not equivalent to its AUTOINCREMENT, because the 
latter ensures that the key is unique, whereas the former doesn't (<a href="http://www.sqlite.org/faq.html#q1">SQLite FAQ</a>). Doesn't bother me enough to find a solution, but just FYI!</p>

<p><a href="https://gist.github.com/martinbean" class="user-mention">@martinbean</a>
 You need to have the MySQL client package installed in order to access 
MySQL. In Ubuntu, for example, mysql-client provides mysqldump and the 
other client executables.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/6b17165d23ead15e66854ff882c59e0c.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-56556">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/martinbean" class="comment-header-author">martinbean</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-56556">
              <a href="https://gist.github.com/esperlu/943776/#comment-56556">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-56556">
              <a href="https://gist.github.com/esperlu/943776/#comment-56556" class="comment-header-date">
                <time class="js-relative-date" title="2011-10-14T14:17:38Z" datetime="2011-10-14T14:17:38Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p><a href="https://gist.github.com/mrtorrent" class="user-mention">@mrtorrent</a>
 I installed MySQL from source I think. I installed it on my Mac OS X 
machine to compliment the built-in versions of Apache and PHP.</p>

<p>Is this the same thing? Or do I need to install something supplementary to surpress the above error and get the script working?</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/1496b8171a80c09be580414afa013b6a.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-56563">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/mrtorrent" class="comment-header-author">mrtorrent</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-56563">
              <a href="https://gist.github.com/esperlu/943776/#comment-56563">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-56563">
              <a href="https://gist.github.com/esperlu/943776/#comment-56563" class="comment-header-date">
                <time class="js-relative-date" title="2011-10-14T14:25:06Z" datetime="2011-10-14T14:25:06Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p><a href="https://gist.github.com/martinbean" class="user-mention">@martinbean</a>
 You must not have installed the programs to somewhere in your shell's 
$PATH (i.e. the directories it looks in to find an application when you 
type a command). You'll need to find out where you installed it and 
replace <code>mysqldump</code> in the script with the full path to your mysqldump, e.g. <code>/usr/bin/mysqldump</code>.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/6b17165d23ead15e66854ff882c59e0c.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-56565">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/martinbean" class="comment-header-author">martinbean</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-56565">
              <a href="https://gist.github.com/esperlu/943776/#comment-56565">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-56565">
              <a href="https://gist.github.com/esperlu/943776/#comment-56565" class="comment-header-date">
                <time class="js-relative-date" title="2011-10-14T14:30:20Z" datetime="2011-10-14T14:30:20Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p><a href="https://gist.github.com/mrtorrent" class="user-mention">@mrtorrent</a> I see. OK, I'll try that. Thanks for the tips!</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/90c2cb3768d103dbd3ce00cdffb3593d.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-64822">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/felipecaioba" class="comment-header-author">felipecaioba</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-64822">
              <a href="https://gist.github.com/esperlu/943776/#comment-64822">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-64822">
              <a href="https://gist.github.com/esperlu/943776/#comment-64822" class="comment-header-date">
                <time class="js-relative-date" title="2011-11-22T21:54:09Z" datetime="2011-11-22T21:54:09Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>I make mysql converter to sqlite in PHP: </p>

<p><a href="http://mysql2sqlite.felipemarques.com.br/">http://mysql2sqlite.felipemarques.com.br/</a></p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/9cd656087e350c87af0bb985272c72de.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-67199">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/danielrodriguez" class="comment-header-author">danielrodriguez</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-67199">
              <a href="https://gist.github.com/esperlu/943776/#comment-67199">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-67199">
              <a href="https://gist.github.com/esperlu/943776/#comment-67199" class="comment-header-date">
                <time class="js-relative-date" title="2011-12-05T13:03:14Z" datetime="2011-12-05T13:03:14Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>The script fails to properly convert an insert with a double backslash like, for example, INSERT INTO "abc" VALUES (1,'\\\\');<br>
It will convert it to INSERT INTO "abc" VALUES (1,'\\\''); and subsequent statements will fail of course.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/a2dad1944b2bd4f773c336f379c63614.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-69062">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/afrade" class="comment-header-author">afrade</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-69062">
              <a href="https://gist.github.com/esperlu/943776/#comment-69062">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-69062">
              <a href="https://gist.github.com/esperlu/943776/#comment-69062" class="comment-header-date">
                <time class="js-relative-date" title="2011-12-13T14:54:16Z" datetime="2011-12-13T14:54:16Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Hi!<br>
Thanks for your work, and for the code..<br>
It didnt work for me, because I didn't know that I should use a mysqldump, something that I even don't know what is.<br>
But the major problem is that after trying to run the script, my 
terminal became weird.. Now I can't type "/" (slash), nether copy it. 
What happened?? What would I do without typing "/"???</p>

<p>I tried to reinstall terminal, no lucky (didn't find a way to do it);<br>
I tried to reinstall X11, no lucky (didn't find a way to do it);</p>

<p>Can You please help me whit this issue, please?? I'm becoming crazy.<br>
Thanks in advise.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/9560d4c63fd93e8c0abf11aae6109531.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-75575">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/stefanacin" class="comment-header-author">stefanacin</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-75575">
              <a href="https://gist.github.com/esperlu/943776/#comment-75575">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-75575">
              <a href="https://gist.github.com/esperlu/943776/#comment-75575" class="comment-header-date">
                <time class="js-relative-date" title="2012-01-13T02:18:12Z" datetime="2012-01-13T02:18:12Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>I was having big problems with the conversion as the 
non-english characters (especially letters with accents) were getting 
getting destroyed in the process. </p>

<p>Fixed with addition of "--default-character-set=utf8" to Line 14: 
"mysqldump  --default-character-set=utf8 --compatible=ansi 
--skip-extended-insert --compact  "$@" | \"</p>

<p>Otherwise, thanks!</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/29804f2ad262893d9ae9646dfef3dc60.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-78792">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/nebulous" class="comment-header-author">nebulous</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-78792">
              <a href="https://gist.github.com/esperlu/943776/#comment-78792">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-78792">
              <a href="https://gist.github.com/esperlu/943776/#comment-78792" class="comment-header-date">
                <time class="js-relative-date" title="2012-01-26T16:35:32Z" datetime="2012-01-26T16:35:32Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p><a href="https://gist.github.com/1683507.js?file=mysql2sqlite.sh">https://gist.github.com/1683507.js?file=mysql2sqlite.sh</a><br>
contains simple int(11) integer swap for primary keys with auto_increment, since they aren't automatically handled by sqlite.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/aebad38cd456c3db2f8d6a8bc3a8320b.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-86510">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/alxd" class="comment-header-author">alxd</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-86510">
              <a href="https://gist.github.com/esperlu/943776/#comment-86510">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-86510">
              <a href="https://gist.github.com/esperlu/943776/#comment-86510" class="comment-header-date">
                <time class="js-relative-date" title="2012-02-26T21:31:39Z" datetime="2012-02-26T21:31:39Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Hi, <br>
I have a 50mb db and i am trying to convert it..<br>
I always get the error <br>
Error: near line 4: near "SET": syntax error<br>
Error: near line 8: no such table: main.Definition</p>

<p>The db has one single table called Definition.</p>

<p>the sql file is this:<br><a href="http://burstsoft.info/temp/dex-evita.sql.zip">http://burstsoft.info/temp/dex-evita.sql.zip</a></p>

<p>Any idea why it gives an error?</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/29804f2ad262893d9ae9646dfef3dc60.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-86675">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/nebulous" class="comment-header-author">nebulous</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-86675">
              <a href="https://gist.github.com/esperlu/943776/#comment-86675">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-86675">
              <a href="https://gist.github.com/esperlu/943776/#comment-86675" class="comment-header-date">
                <time class="js-relative-date" title="2012-02-27T15:53:09Z" datetime="2012-02-27T15:53:09Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p><a href="https://gist.github.com/alxd" class="user-mention">@alxd</a>:
 the file you linked has 10 tables in it. Definition as well as several 
prefixed with pma, so you may want to begin there. It would appear that 
the script also didn't generate the table definition exactly right for 
Definition either. It wouldn't hurt to apply <a href="https://gist.github.com/stefanacin" class="user-mention">@stefanacin</a>'s --default-character-set=utf8 patch as well.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/aebad38cd456c3db2f8d6a8bc3a8320b.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-88046">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/alxd" class="comment-header-author">alxd</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-88046">
              <a href="https://gist.github.com/esperlu/943776/#comment-88046">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-88046">
              <a href="https://gist.github.com/esperlu/943776/#comment-88046" class="comment-header-date">
                <time class="js-relative-date" title="2012-03-03T11:13:43Z" datetime="2012-03-03T11:13:43Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p><a href="https://gist.github.com/nebulous" class="user-mention">@nebulous</a>: I deleted the pma* tables, I changed the table column encoding to utf8, I applied the patch:<br>
mysqldump --default-character-set=utf8 --compatible=ansi --skip-extended-insert --compact "$@" | \<br>
and I still get the<br>
Error: near line 4: near "SET": syntax error<br>
Any idea why the Definition table is not generated?</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/29804f2ad262893d9ae9646dfef3dc60.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-88570">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/nebulous" class="comment-header-author">nebulous</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-88570">
              <a href="https://gist.github.com/esperlu/943776/#comment-88570">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-88570">
              <a href="https://gist.github.com/esperlu/943776/#comment-88570" class="comment-header-date">
                <time class="js-relative-date" title="2012-03-05T14:55:42Z" datetime="2012-03-05T14:55:42Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>What does it generate? It might help to add --no-data
 to the mysqldump command so you can see just the table definitions 
involved. If nothing else you can just tweak that output after which the
 inserts should all work, barring any additional complications like 
triggers.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/aebad38cd456c3db2f8d6a8bc3a8320b.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-88581">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/alxd" class="comment-header-author">alxd</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-88581">
              <a href="https://gist.github.com/esperlu/943776/#comment-88581">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-88581">
              <a href="https://gist.github.com/esperlu/943776/#comment-88581" class="comment-header-date">
                <time class="js-relative-date" title="2012-03-05T15:36:14Z" datetime="2012-03-05T15:36:14Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>i used --no-data and nothing is generated - the file is empty<br>
the script just prints the error:<br>
 ./mysql2sqlite.sh --no-data -u root -pxxx dex | sqlite3 dex.sqlite<br>
memory<br>
Error: near line 4: near "SET": syntax error<br>
Error: near line 8: no such table: main.Definition<br>
Error: near line 27: no such table: main.Definition<br>
Error: near line 45: no such table: main.Definition</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/29804f2ad262893d9ae9646dfef3dc60.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-88582">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/nebulous" class="comment-header-author">nebulous</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-88582">
              <a href="https://gist.github.com/esperlu/943776/#comment-88582">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-88582">
              <a href="https://gist.github.com/esperlu/943776/#comment-88582" class="comment-header-date">
                <time class="js-relative-date" title="2012-03-05T15:40:55Z" datetime="2012-03-05T15:40:55Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Pipe the output of the script into a file instead of SQLite, so you can see what it's doing.<br><code>./mysql2sqlite.sh --no-data -u root -pxx dex &gt; dex.sql</code></p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/aebad38cd456c3db2f8d6a8bc3a8320b.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-88589">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/alxd" class="comment-header-author">alxd</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-88589">
              <a href="https://gist.github.com/esperlu/943776/#comment-88589">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-88589">
              <a href="https://gist.github.com/esperlu/943776/#comment-88589" class="comment-header-date">
                <time class="js-relative-date" title="2012-03-05T16:01:48Z" datetime="2012-03-05T16:01:48Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>well, it generates this:<br>
CREATE TABLE "Definition" (<br>
  "lexicon" varchar(100) DEFAULT NULL,<br>
  "internalRep" mediumtext CHARACTER SET utf8<br>
);<br>
I don't see anywhere on the sqlite documentation<br><a href="http://www.sqlite.org/lang_createtable.html">http://www.sqlite.org/lang_createtable.html</a><br>
CHARACTER SET, so I guess this is a bug. How can we fix it?</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/29804f2ad262893d9ae9646dfef3dc60.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-89017">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/nebulous" class="comment-header-author">nebulous</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-89017">
              <a href="https://gist.github.com/esperlu/943776/#comment-89017">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-89017">
              <a href="https://gist.github.com/esperlu/943776/#comment-89017" class="comment-header-date">
                <time class="js-relative-date" title="2012-03-06T17:27:39Z" datetime="2012-03-06T17:27:39Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>you can either remove it manually for the import, or add another search/replace to the awk to remove it.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/d6b749bbbe813197bda174de3077f7b4.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-214147">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/xofxon" class="comment-header-author">xofxon</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-214147">
              <a href="https://gist.github.com/esperlu/943776/#comment-214147">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-214147">
              <a href="https://gist.github.com/esperlu/943776/#comment-214147" class="comment-header-date">
                <time class="js-relative-date" title="2012-03-31T19:26:05Z" datetime="2012-03-31T19:26:05Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Hello, very nice script.<br>
Is it supposed to manager mysql views ?</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/92b8723cc2887ccb3ad53b57e597ed44.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-292805">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/alx77" class="comment-header-author">alx77</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-292805">
              <a href="https://gist.github.com/esperlu/943776/#comment-292805">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-292805">
              <a href="https://gist.github.com/esperlu/943776/#comment-292805" class="comment-header-date">
                <time class="js-relative-date" title="2012-05-01T09:34:09Z" datetime="2012-05-01T09:34:09Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Very impressed with your awk-script. A little further
 developed, taking into account sqlite&gt;3.6 features like foreign 
keys, autoincrement... Maybe someone will find it useful.</p>

<div class="highlight"><pre><span class="c">#!/bin/sh</span>

<span class="c"># Converts a mysqldump file into a Sqlite 3 compatible file. It also extracts the MySQL `KEY xxxxx` from the</span>
<span class="c"># CREATE block and create them in separate commands _after_ all the INSERTs.</span>

<span class="c"># Awk is chosen because it's fast and portable. You can use gawk, original awk or even the lightning fast mawk.</span>
<span class="c"># The mysqldump file is traversed only once.</span>

<span class="c"># Usage: $ ./mysql2sqlite mysqldump-opts db-name | sqlite3 database.sqlite</span>
<span class="c"># Example: $ ./mysql2sqlite --no-data -u root -pMySecretPassWord myDbase | sqlite3 database.sqlite</span>

<span class="c"># Thanks to and @artemyk and @gkuenning for their nice tweaks.</span>

mysqldump --skip-extended-insert --compact  <span class="s2">"$@"</span> <span class="p">|</span> <span class="se">\</span>
<span class="c">#cat "$@" | \</span>
awk <span class="s1">'</span>

<span class="s1">BEGIN {</span>
<span class="s1">    FS=",$"</span>
<span class="s1">    print "PRAGMA synchronous = OFF;"</span>
<span class="s1">    print "PRAGMA journal_mode = MEMORY;"</span>
<span class="s1">    print "BEGIN TRANSACTION;"</span>
<span class="s1">}</span>

<span class="s1"># CREATE TRIGGER statements have funny commenting.  Remember we are in trigger.</span>
<span class="s1">/^\/\*.*CREATE.*TRIGGER/ {</span>
<span class="s1">    gsub( /^.*TRIGGER/, "CREATE TRIGGER" )</span>
<span class="s1">    print</span>
<span class="s1">    inTrigger = 1</span>
<span class="s1">    next</span>
<span class="s1">}</span>
<span class="s1"># The end of CREATE TRIGGER has a stray comment terminator</span>
<span class="s1">/END \*\/;;/ { gsub( /\*\//, "" ); print; inTrigger = 0; next }</span>
<span class="s1"># The rest of triggers just get passed through</span>
<span class="s1">inTrigger != 0 { print; next }</span>

<span class="s1"># CREATE VIEW looks like a TABLE in comments</span>
<span class="s1">/^\/\*.*CREATE.*TABLE/ {</span>
<span class="s1">    inView = 1</span>
<span class="s1">    next</span>
<span class="s1">}</span>
<span class="s1"># The end of CREATE VIEW</span>
<span class="s1">/^(\).*ENGINE.*\*\/;)/ {</span>
<span class="s1">    inView = 0;</span>
<span class="s1">    next</span>
<span class="s1">}</span>
<span class="s1"># The rest of view just get passed through</span>
<span class="s1">inView != 0 { next }</span>

<span class="s1"># Skip other comments</span>
<span class="s1">/^\/\*/ { next }</span>

<span class="s1"># Print all `INSERT` lines. The single quotes are protected by another single quote.</span>
<span class="s1">/^INSERT/ {</span>
<span class="s1">    prev = "";</span>
<span class="s1">    gsub( /\\\047/, "\047\047" )</span>
<span class="s1">    gsub( /\\\047\047,/, "\\\047," )</span>
<span class="s1">    gsub(/\\n/, "\n")</span>
<span class="s1">    gsub(/\\r/, "\r")</span>
<span class="s1">    gsub(/\\"/, "\"")</span>
<span class="s1">    gsub(/\\\\/, "\\")</span>
<span class="s1">    gsub(/\\\032/, "\032")</span>
<span class="s1">    print</span>
<span class="s1">    next</span>
<span class="s1">}</span>

<span class="s1"># Print the `CREATE` line as is and capture the table name.</span>
<span class="s1">/^CREATE/ {</span>
<span class="s1">    print</span>
<span class="s1">    aInc = 0;</span>
<span class="s1">    if ( match( $0, /\`[^\`]+/ ) ) </span>
<span class="s1">    {</span>
<span class="s1">    tableName = substr( $0, RSTART+1, RLENGTH-1 ) </span>
<span class="s1">    }</span>
<span class="s1">    prev = "";</span>
<span class="s1">    firstInTable = 1;</span>
<span class="s1">    next</span>
<span class="s1">}</span>

<span class="s1"># Replace `FULLTEXT KEY` (probably other `XXXXX KEY`)</span>
<span class="s1">/^  FULLTEXT KEY/ { gsub( /.+KEY/, "  KEY" ) }</span>

<span class="s1"># Get rid of field lengths in KEY lines</span>
<span class="s1">/ (PRIMARY )?KEY/ { gsub(/\([0-9]+\)/, "") }</span>

<span class="s1">aInc == 1 &amp;&amp; /PRIMARY KEY/ {</span>
<span class="s1">    next</span>
<span class="s1">}</span>

<span class="s1"># Print all fields definition lines except the `KEY` lines.</span>
<span class="s1">/^  / &amp;&amp; !/^(  KEY|\);)/ {</span>
<span class="s1">    if ( match( $0, /AUTO_INCREMENT|auto_increment/))</span>
<span class="s1">    {</span>
<span class="s1">    aInc = 1;</span>
<span class="s1">    gsub( /AUTO_INCREMENT|auto_increment/, "PRIMARY KEY AUTOINCREMENT" )</span>
<span class="s1">    }</span>
<span class="s1">    gsub( /(UNIQUE KEY|unique key) `.*` /, "UNIQUE " )</span>
<span class="s1">    gsub( /(CHARACTER SET|character set) [^ ]+ /, "" )</span>
<span class="s1">    gsub( /DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP|default current_timestamp on update current_timestamp/, "" )</span>
<span class="s1">    gsub( /(COLLATE|collate) [^ ]+ /, "" )</span>
<span class="s1">    gsub(/(ENUM|enum)[^)]+\)/, "text ")</span>
<span class="s1">    gsub(/(SET|set)\([^)]+\)/, "text ")</span>
<span class="s1">    gsub(/UNSIGNED|unsigned/, "")</span>
<span class="s1">    gsub(/` [^ ]*(INT|int)[^ ]*/, "` integer")</span>
<span class="s1">    if (prev)</span>
<span class="s1">    {</span>
<span class="s1">    if (firstInTable)</span>
<span class="s1">    {</span>
<span class="s1">        print prev</span>
<span class="s1">        firstInTable = 0</span>
<span class="s1">    }</span>
<span class="s1">    else print "," prev</span>
<span class="s1">    }</span>
<span class="s1">    prev = $1</span>
<span class="s1">}</span>

<span class="s1">/ ENGINE/ {</span>
<span class="s1">    if (prev)</span>
<span class="s1">    {</span>
<span class="s1">    if (firstInTable)</span>
<span class="s1">    {</span>
<span class="s1">        print prev</span>
<span class="s1">        firstInTable = 0</span>
<span class="s1">    }</span>
<span class="s1">    else print "," prev</span>
<span class="s1">    }</span>
<span class="s1">    prev=""</span>
<span class="s1">    print ");"</span>
<span class="s1">    next</span>
<span class="s1">}</span>
<span class="s1"># `KEY` lines are extracted from the `CREATE` block and stored in array for later print </span>
<span class="s1"># in a separate `CREATE KEY` command. The index name is prefixed by the table name to </span>
<span class="s1"># avoid a sqlite error for duplicate index name.</span>
<span class="s1">/^(  KEY|\);)/ {</span>
<span class="s1">    if (prev)</span>
<span class="s1">    {</span>
<span class="s1">    if (firstInTable)</span>
<span class="s1">    {</span>
<span class="s1">        print prev</span>
<span class="s1">        firstInTable = 0</span>
<span class="s1">    }</span>
<span class="s1">    else print "," prev</span>
<span class="s1">    }</span>
<span class="s1">    prev = ""</span>
<span class="s1">    if ($0 == ");"){</span>
<span class="s1">        print</span>
<span class="s1">    } else {</span>
<span class="s1">        if ( match( $0, /\`[^`]+/ ) ) indexName = substr( $0, RSTART+1, RLENGTH-1 ) </span>
<span class="s1">    if ( match( $0, /\([^()]+/ ) ) indexKey = substr( $0, RSTART+1, RLENGTH-1 ) </span>
<span class="s1">    key[tableName]=key[tableName] "CREATE INDEX \"" tableName "_" indexName "\" ON \"" tableName "\" (" indexKey ");\n"</span>
<span class="s1">    }</span>
<span class="s1">}</span>

<span class="s1"># Print all `KEY` creation lines.</span>
<span class="s1">END {</span>
<span class="s1">    for (table in key) printf key[table]</span>
<span class="s1">    print "END TRANSACTION;"</span>
<span class="s1">}</span>
<span class="s1">'</span>
<span class="nb">exit </span>0
</pre></div>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/fd2cb00afbdfc7bd3304c6f6b803f286.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-307226">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/Zeit" class="comment-header-author">Zeit</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-307226">
              <a href="https://gist.github.com/esperlu/943776/#comment-307226">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-307226">
              <a href="https://gist.github.com/esperlu/943776/#comment-307226" class="comment-header-date">
                <time class="js-relative-date" title="2012-05-08T05:18:59Z" datetime="2012-05-08T05:18:59Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Hello. Newbie help please. I can't get "$ chmod +x mysql2sqlite.sh" to work, it says that command +x isn't found.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/167b7f4b5e3b447e738ec897661f5c80.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-307264">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/gkuenning" class="comment-header-author">gkuenning</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-307264">
              <a href="https://gist.github.com/esperlu/943776/#comment-307264">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-307264">
              <a href="https://gist.github.com/esperlu/943776/#comment-307264" class="comment-header-date">
                <time class="js-relative-date" title="2012-05-08T06:11:57Z" datetime="2012-05-08T06:11:57Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>The dollar sign is intended to represent your shell (command line) prompt.  So you should just type this:</p>

<p>chmod +x mysql2sqlite.sh</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/613b53dd6f94dd5758e5d1e4b6981ceb.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-329611">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/yamikuronue" class="comment-header-author">yamikuronue</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-329611">
              <a href="https://gist.github.com/esperlu/943776/#comment-329611">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-329611">
              <a href="https://gist.github.com/esperlu/943776/#comment-329611" class="comment-header-date">
                <time class="js-relative-date" title="2012-05-24T01:19:25Z" datetime="2012-05-24T01:19:25Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>I've got the following being generated: "CREATE INDEX "REATE TABLE _ KEY " ON "REATE TABLE " (<code>theme</code>);"</p>

<p>That's obviously grabbing the wrong part of the statement. Attempting
 to apply various fixes from this thread, I've got the same result with 
the following code segment:</p>

<p>else {<br>
        if ( match( $0, /`[^`]+/ ) ) indexName = substr( $0, RSTART+1, RLENGTH-1 ) <br>
   if ( match( $0, /(([^()]+(([^)]+))?)+[^)]*/ ) ) indexKey = substr( $0, RSTART+1, RLENGTH-1 ) <br>
            gsub(/([^)]+)/, "", indexKey);</p>

<pre><code>key[tableName]=key[tableName] "CREATE INDEX \"" tableName "_" indexName "\" ON \"" tableName "\" (" indexKey ");\n"
}
</code></pre>

<p>What am I doing wrong?</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/f9b76e492cfec185611c176b8b23d99a.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-353904">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/amarraj" class="comment-header-author">amarraj</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-353904">
              <a href="https://gist.github.com/esperlu/943776/#comment-353904">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-353904">
              <a href="https://gist.github.com/esperlu/943776/#comment-353904" class="comment-header-date">
                <time class="js-relative-date" title="2012-06-18T13:26:35Z" datetime="2012-06-18T13:26:35Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>how to convert mysql to sqlite3 please do something in windows xp.....</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/92b8723cc2887ccb3ad53b57e597ed44.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-353918">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/alx77" class="comment-header-author">alx77</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-353918">
              <a href="https://gist.github.com/esperlu/943776/#comment-353918">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-353918">
              <a href="https://gist.github.com/esperlu/943776/#comment-353918" class="comment-header-date">
                <time class="js-relative-date" title="2012-06-18T13:50:45Z" datetime="2012-06-18T13:50:45Z">2 years ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p><a href="https://gist.github.com/amarraj" class="user-mention">@amarraj</a> virtualbox + ubuntu will help ;)</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/949d298281913af6175f6d1e4902263f.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-568537">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/multigl" class="comment-header-author">multigl</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-568537">
              <a href="https://gist.github.com/esperlu/943776/#comment-568537">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-568537">
              <a href="https://gist.github.com/esperlu/943776/#comment-568537" class="comment-header-date">
                <time class="js-relative-date" title="2012-09-11T00:32:15Z" datetime="2012-09-11T00:32:15Z">a year ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>I tweaked <a href="https://gist.github.com/alx77" class="user-mention">@alx77</a> version to fix the problem <a href="https://gist.github.com/yamikuronue" class="user-mention">@yamikuronue</a> was having (I was having too), specifically for django created and managed mysql databases</p>

<div class="highlight"><pre><span class="c">#!/bin/sh</span>

<span class="c"># Converts a mysqldump file into a Sqlite 3 compatible file. It also extracts the MySQL `KEY xxxxx` from the</span>
<span class="c"># CREATE block and create them in separate commands _after_ all the INSERTs.</span>

<span class="c"># Awk is chosen because it's fast and portable. You can use gawk, original awk or even the lightning fast mawk.</span>
<span class="c"># The mysqldump file is traversed only once.</span>

<span class="c"># Usage: $ ./mysql2sqlite mysqldump-opts db-name | sqlite3 database.sqlite</span>
<span class="c"># Example: $ ./mysql2sqlite --no-data -u root -pMySecretPassWord myDbase | sqlite3 database.sqlite</span>

<span class="c"># Thanks to and @artemyk and @gkuenning for their nice tweaks.</span>

mysqldump --skip-extended-insert --compact  <span class="s2">"$@"</span> <span class="p">|</span> <span class="se">\</span>
<span class="c">#cat "$@" | \</span>
awk <span class="s1">'</span>

<span class="s1">BEGIN {</span>
<span class="s1">    FS=",$"</span>
<span class="s1">    print "PRAGMA synchronous = OFF;"</span>
<span class="s1">    print "PRAGMA journal_mode = MEMORY;"</span>
<span class="s1">    print "BEGIN TRANSACTION;"</span>
<span class="s1">}</span>

<span class="s1"># CREATE TRIGGER statements have funny commenting.  Remember we are in trigger.</span>
<span class="s1">/^\/\*.*CREATE.*TRIGGER/ {</span>
<span class="s1">    gsub( /^.*TRIGGER/, "CREATE TRIGGER" )</span>
<span class="s1">    print</span>
<span class="s1">    inTrigger = 1</span>
<span class="s1">    next</span>
<span class="s1">}</span>
<span class="s1"># The end of CREATE TRIGGER has a stray comment terminator</span>
<span class="s1">/END \*\/;;/ { gsub( /\*\//, "" ); print; inTrigger = 0; next }</span>
<span class="s1"># The rest of triggers just get passed through</span>
<span class="s1">inTrigger != 0 { print; next }</span>

<span class="s1"># CREATE VIEW looks like a TABLE in comments</span>
<span class="s1">/^\/\*.*CREATE.*TABLE/ {</span>
<span class="s1">    inView = 1</span>
<span class="s1">    next</span>
<span class="s1">}</span>
<span class="s1"># The end of CREATE VIEW</span>
<span class="s1">/^(\).*ENGINE.*\*\/;)/ {</span>
<span class="s1">    inView = 0;</span>
<span class="s1">    next</span>
<span class="s1">}</span>
<span class="s1"># The rest of view just get passed through</span>
<span class="s1">inView != 0 { next }</span>

<span class="s1"># Skip other comments</span>
<span class="s1">/^\/\*/ { next }</span>

<span class="s1"># Print all `INSERT` lines. The single quotes are protected by another single quote.</span>
<span class="s1">/^INSERT/ {</span>
<span class="s1">    prev = "";</span>
<span class="s1">    gsub( /\\\047/, "\047\047" )</span>
<span class="s1">    gsub( /\\\047\047,/, "\\\047," )</span>
<span class="s1">    gsub(/\\n/, "\n")</span>
<span class="s1">    gsub(/\\r/, "\r")</span>
<span class="s1">    gsub(/\\"/, "\"")</span>
<span class="s1">    gsub(/\\\\/, "\\")</span>
<span class="s1">    gsub(/\\\032/, "\032")</span>
<span class="s1">    print</span>
<span class="s1">    next</span>
<span class="s1">}</span>

<span class="s1"># Print the `CREATE` line as is and capture the table name.</span>
<span class="s1">/^CREATE/ {</span>
<span class="s1">    print</span>
<span class="s1">    aInc = 0;</span>
<span class="s1">    if ( match( $0, /`[^`]+/ ) ) </span>
<span class="s1">    {</span>
<span class="s1">        tableName = substr( $0, RSTART+1, RLENGTH-1 ) </span>
<span class="s1">    }</span>
<span class="s1">    prev = "";</span>
<span class="s1">    firstInTable = 1;</span>
<span class="s1">    next</span>
<span class="s1">}</span>

<span class="s1"># Replace `FULLTEXT KEY` (probably other `XXXXX KEY`)</span>
<span class="s1">/^  FULLTEXT KEY/ { gsub( /.+KEY/, "  KEY" ) }</span>

<span class="s1"># Get rid of field lengths in KEY lines</span>
<span class="s1">/ (PRIMARY )?KEY/ { gsub(/\([0-9]+\)/, "") }</span>

<span class="s1">aInc == 1 &amp;&amp; /PRIMARY KEY/ {</span>
<span class="s1">    next</span>
<span class="s1">}</span>

<span class="s1"># Print all fields definition lines except the `KEY` lines.</span>
<span class="s1">/^  / &amp;&amp; !/^(  KEY|\);)/ {</span>
<span class="s1">    if ( match( $0, /AUTO_INCREMENT|auto_increment/))</span>
<span class="s1">    {</span>
<span class="s1">    aInc = 1;</span>
<span class="s1">    gsub( /AUTO_INCREMENT|auto_increment/, "PRIMARY KEY AUTOINCREMENT" )</span>
<span class="s1">    }</span>
<span class="s1">    gsub( /(UNIQUE KEY|unique key) `.*` /, "UNIQUE " )</span>
<span class="s1">    gsub( /(CHARACTER SET|character set) [^ ]+ /, "" )</span>
<span class="s1">    gsub( /DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP|default current_timestamp on update current_timestamp/, "" )</span>
<span class="s1">    gsub( /(COLLATE|collate) [^ ]+ /, "" )</span>
<span class="s1">    gsub(/(ENUM|enum)[^)]+\)/, "text ")</span>
<span class="s1">    gsub(/(SET|set)\([^)]+\)/, "text ")</span>
<span class="s1">    gsub(/UNSIGNED|unsigned/, "")</span>
<span class="s1">    gsub(/` [^ ]*(INT|int)[^ ]*/, "` integer")</span>
<span class="s1">    if (prev)</span>
<span class="s1">    {</span>
<span class="s1">    if (firstInTable)</span>
<span class="s1">    {</span>
<span class="s1">        print prev</span>
<span class="s1">        firstInTable = 0</span>
<span class="s1">    }</span>
<span class="s1">    else print "," prev</span>
<span class="s1">    }</span>
<span class="s1">    prev = $1</span>
<span class="s1">}</span>

<span class="s1">/ ENGINE/ {</span>
<span class="s1">    if (prev)</span>
<span class="s1">    {</span>
<span class="s1">    if (firstInTable)</span>
<span class="s1">    {</span>
<span class="s1">        print prev</span>
<span class="s1">        firstInTable = 0</span>
<span class="s1">    }</span>
<span class="s1">    else print "," prev</span>
<span class="s1">    }</span>
<span class="s1">    prev=""</span>
<span class="s1">    print ");"</span>
<span class="s1">    next</span>
<span class="s1">}</span>
<span class="s1"># `KEY` lines are extracted from the `CREATE` block and stored in array for later print </span>
<span class="s1"># in a separate `CREATE KEY` command. The index name is prefixed by the table name to </span>
<span class="s1"># avoid a sqlite error for duplicate index name.</span>
<span class="s1">/^(  KEY|\);)/ {</span>
<span class="s1">    if (prev)</span>
<span class="s1">    {</span>
<span class="s1">    if (firstInTable)</span>
<span class="s1">    {</span>
<span class="s1">        print prev</span>
<span class="s1">        firstInTable = 0</span>
<span class="s1">    }</span>
<span class="s1">    else print "," prev</span>
<span class="s1">    }</span>
<span class="s1">    prev = ""</span>
<span class="s1">    if ($0 == ");"){</span>
<span class="s1">        print</span>
<span class="s1">    } else {</span>
<span class="s1">        if (  match( $0, /`[^`]+/ ) )</span>
<span class="s1">        {</span>
<span class="s1">            indexName = substr( $0, RSTART+1, RLENGTH-1 ) </span>
<span class="s1">        }</span>
<span class="s1">        if ( match( $0, /\([^()]+/ ) ) </span>
<span class="s1">        {</span>
<span class="s1">            indexKey = substr( $0, RSTART+1, RLENGTH-1 ) </span>
<span class="s1">        }</span>
<span class="s1">        key[tableName]=key[tableName] "CREATE INDEX \"" indexName "\" ON \"" tableName "\" (" indexKey ");\n"</span>
<span class="s1">    }</span>
<span class="s1">}</span>

<span class="s1"># Print all `KEY` creation lines.</span>
<span class="s1">END {</span>
<span class="s1">    for (table in key) printf key[table]</span>
<span class="s1">    print "END TRANSACTION;"</span>
<span class="s1">}</span>
<span class="s1">'</span>
<span class="nb">exit </span>0
</pre></div>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/3795d2031be87499f76f6336ec5a3a45.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-700084">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/Workerbee" class="comment-header-author">Workerbee</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-700084">
              <a href="https://gist.github.com/esperlu/943776/#comment-700084">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-700084">
              <a href="https://gist.github.com/esperlu/943776/#comment-700084" class="comment-header-date">
                <time class="js-relative-date" title="2013-01-04T12:29:37Z" datetime="2013-01-04T12:29:37Z">a year ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>On a windows machine had the following error with cygwin: <br>
mysqldump: Got error: 2002: Can't connect to local MySQL server through socket '/var/run/mysql.sock' (2) when trying to connect</p>

<p>To fix it add -h 127.0.0.1</p>

<p>./mysql2sqlite.sh -u root -p -h 127.0.0.1 myDatabase | sqlite3 sqliteDb.sqlite</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/5e7b759194d86939d23a716ad88d92dc.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-775548">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/sevk" class="comment-header-author">sevk</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-775548">
              <a href="https://gist.github.com/esperlu/943776/#comment-775548">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-775548">
              <a href="https://gist.github.com/esperlu/943776/#comment-775548" class="comment-header-date">
                <time class="js-relative-date" title="2013-02-17T04:20:53Z" datetime="2013-02-17T04:20:53Z">11 months ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>use sequel , one line :</p>

<pre><code>sequel mysql://user:password@host/database -C sqlite://db.sqlite
</code></pre>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/8a330ed659a7b9fce3ef27b0aa3683d0.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-776427">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/michaelhaberler" class="comment-header-author">michaelhaberler</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-776427">
              <a href="https://gist.github.com/esperlu/943776/#comment-776427">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-776427">
              <a href="https://gist.github.com/esperlu/943776/#comment-776427" class="comment-header-date">
                <time class="js-relative-date" title="2013-02-18T16:08:30Z" datetime="2013-02-18T16:08:30Z">11 months ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>I found  <a href="https://gist.github.com/hplc" class="user-mention">@hplc</a> 's and <a href="https://gist.github.com/multigl" class="user-mention">@multigl</a> 's tweaks very useful for my mysql to sqlite export! Thanks :)</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/cf5144bc6eba91f25f7ea0d05c56c78d.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-797128">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/antoine-lizee" class="comment-header-author">antoine-lizee</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-797128">
              <a href="https://gist.github.com/esperlu/943776/#comment-797128">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-797128">
              <a href="https://gist.github.com/esperlu/943776/#comment-797128" class="comment-header-date">
                <time class="js-relative-date" title="2013-03-12T22:49:49Z" datetime="2013-03-12T22:49:49Z">10 months ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Well I answered my question before anybody answered, so I'll just edit it with the answer :-) :</p>

<p>If you want to ACTUALLY translate a Mysql dump into a sqlite dump 
(i.e. a text file created by Myphp into a text file that sqlite can 
read), you have to change the first line :</p>

<p><code>mysqldump  --compatible=ansi --skip-extended-insert --compact  "$@" | \</code></p>

<p>into:</p>

<p><code>cat "$@" | \</code></p>

<p>and use it like that :</p>

<p><code>me@mymachine$ ./mysql2sqlite.sh mydumpfile.myphpdump &gt; mydumpfile.sqlitedump</code></p>

<p>Hope it helps ! (and is true...)</p>

<p>Antoine</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/a71605c65c8529459e9b4f43a82c7733.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-824560">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/jophof" class="comment-header-author">jophof</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-824560">
              <a href="https://gist.github.com/esperlu/943776/#comment-824560">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-824560">
              <a href="https://gist.github.com/esperlu/943776/#comment-824560" class="comment-header-date">
                <time class="js-relative-date" title="2013-05-01T17:51:51Z" datetime="2013-05-01T17:51:51Z">8 months ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>I am running a mysql database with autoincrement fields in it and tried the tool. It throws no such table many times</p>

<p>The sql code of the dump is like this </p>

<p>PRAGMA synchronous = OFF;<br>
PRAGMA journal_mode = MEMORY;<br>
BEGIN TRANSACTION;<br>
CREATE TABLE "answers_control_question" (<br>
  "control_questionID" int(11) NOT NULL,<br>
  "inspectionformID" int(11) NOT NULL,<br>
  "status" tinyint(4) NOT NULL COMMENT '1 = goed, 2 = matig, 3 = slecht',<br>
  "questiontext" varchar(100) DEFAULT NULL,<br>
  PRIMARY KEY ("control_questionID","inspectionformID")<br>
  CONSTRAINT "fk_answers_control_question_control_question1" FOREIGN KEY
 ("control_questionID") REFERENCES "control_question" 
("control_questionID") ON DELETE NO ACTION ON UPDATE NO ACTION,<br>
  CONSTRAINT "fk_answers_control_question_inspection_form1" FOREIGN KEY 
("inspectionformID") REFERENCES "inspection_form" ("inspectionformID") 
ON DELETE NO ACTION ON UPDATE NO ACTION<br>
);<br>
INSERT INTO "answers_control_question" VALUES (1,10,1,NULL);</p>

<p>Can I tell the script to skip tables that start with a fixed prefix like skip all tables that start with dataface.</p>

<p>Can the script run using a dump.sql file. If this is true I can delete the dataface tables in it.</p>

<p>John</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/b6350c2a36e026253b38ac8ed9140c58.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-831080">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/LeDangIUH" class="comment-header-author">LeDangIUH</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-831080">
              <a href="https://gist.github.com/esperlu/943776/#comment-831080">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-831080">
              <a href="https://gist.github.com/esperlu/943776/#comment-831080" class="comment-header-date">
                <time class="js-relative-date" title="2013-05-16T10:41:59Z" datetime="2013-05-16T10:41:59Z">8 months ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Hi.<br>
I am developing application in android, my data(write by mysql) on 
service I want import all it into sqlite(local database) on android. I 
don't work, can't help me.....<br>
thanks  </p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/8d4f92943c0f7963daf5003c8de780a9.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-834033">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/hawkmaster" class="comment-header-author">hawkmaster</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-834033">
              <a href="https://gist.github.com/esperlu/943776/#comment-834033">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-834033">
              <a href="https://gist.github.com/esperlu/943776/#comment-834033" class="comment-header-date">
                <time class="js-relative-date" title="2013-05-23T14:22:40Z" datetime="2013-05-23T14:22:40Z">8 months ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Hello<br>
I tried to convert my MySQL 5 db with the first script. It works fine 
but I see then that no Auto_increment columns in SQLite and that the 
type is int instead of INTEGER. Then I tried to use the patch from  
multigl or alx77 but then I got the same errors like user "alxd" has 
reported;<br>
Error: near line 4: near "SET": syntax error<br>
Error: near line 8: no such table: main.Definition<br>
..<br>
no such table</p>

<p>no output will be produced</p>

<p>Any idea why it gives an error?</p>

<p>kind regards<br>
hawk</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/5934cae8aea23f262ae0d554667ec529.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-840707">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/danmoore2205" class="comment-header-author">danmoore2205</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-840707">
              <a href="https://gist.github.com/esperlu/943776/#comment-840707">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-840707">
              <a href="https://gist.github.com/esperlu/943776/#comment-840707" class="comment-header-date">
                <time class="js-relative-date" title="2013-06-05T13:05:47Z" datetime="2013-06-05T13:05:47Z">7 months ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Worked a treat, thanks for sharing</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/869402f85dcbabcef3da1ee61b88a45a.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-844474">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/reubano" class="comment-header-author">reubano</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-844474">
              <a href="https://gist.github.com/esperlu/943776/#comment-844474">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-844474">
              <a href="https://gist.github.com/esperlu/943776/#comment-844474" class="comment-header-date">
                <time class="js-relative-date" title="2013-06-12T21:30:32Z" datetime="2013-06-12T21:30:32Z">7 months ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>sqlite kept complaining with <code>Error: incomplete SQL:</code> so I couldn't get the script to work. </p>

<p>But Kudos to <a href="https://gist.github.com/sevk" class="user-mention">@sevk</a> because the following worked for me.</p>

<pre lang="shell"><code>sudo gem install sequel
sudo gem install sqlite3
sudo gem install mysql
rbenv rehash
sequel mysql://user:password@host/database -C sqlite://db.sqlite
</code></pre>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/7d75e11e485b474d616d4437abd0d5ee.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-847296">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/dwaldeck" class="comment-header-author">dwaldeck</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-847296">
              <a href="https://gist.github.com/esperlu/943776/#comment-847296">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-847296">
              <a href="https://gist.github.com/esperlu/943776/#comment-847296" class="comment-header-date">
                <time class="js-relative-date" title="2013-06-18T21:16:45Z" datetime="2013-06-18T21:16:45Z">7 months ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>excellent work!</p>

<p>I received a message simply saying</p>

<pre><code>memory
</code></pre>

<p>is this output from SQLite, mysqldump or the shell script?</p>

<p>it might be a good idea to echo progress eg:</p>

<pre><code>starting mysqldump
...
completed mysqldump
</code></pre>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/b738321f982e1b4733bfa9e0a50404d6.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-896223">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/dim93" class="comment-header-author">dim93</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-896223">
              <a href="https://gist.github.com/esperlu/943776/#comment-896223">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-896223">
              <a href="https://gist.github.com/esperlu/943776/#comment-896223" class="comment-header-date">
                <time class="js-relative-date" title="2013-08-27T23:17:01Z" datetime="2013-08-27T23:17:01Z">4 months ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Hi folks, I want to report that in sqlite 3.5.9 ( 
which is the sqlite in android 2.1 and below ) ON UPDATE NO ACTION is 
not supported thus if you want your database to be compatible with 
android 2.1 and below you should add : <br>
 /  ON UPDATE NO ACTION/ { gsub( /ON UPDATE NO ACTION/,"") } before # Print all fields definition lines except the <code>KEY</code> lines.<br>
Note: I haven't written in awk before so if you belive that you can create a better fix please feel free to share</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/a9af9cbf94dd49d00bc8897ba81c0ab3.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-904539">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/tstaerk" class="comment-header-author">tstaerk</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-904539">
              <a href="https://gist.github.com/esperlu/943776/#comment-904539">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-904539">
              <a href="https://gist.github.com/esperlu/943776/#comment-904539" class="comment-header-date">
                <time class="js-relative-date" title="2013-09-11T06:49:10Z" datetime="2013-09-11T06:49:10Z">4 months ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Thanks for this script, I just migrated my wiki with it: <a href="http://www.staerk.de/thorsten">www.staerk.de/thorsten</a>. But I had a hard time figuring out that this script did not take over the autoincrement settings: <a href="http://www.linuxintro.org/wiki/Migrating_mediawiki_from_mysql_to_sqlite#Revision::insertOn.2Fsingle-row">http://www.linuxintro.org/wiki/Migrating_mediawiki_from_mysql_to_sqlite#Revision::insertOn.2Fsingle-row</a></p>

<p>any chance to get this right as well? Then the script would be perfect :)</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/09da8e3a62be136012b21d8cf15e2b72.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-941738">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/lekhnath" class="comment-header-author">lekhnath</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-941738">
              <a href="https://gist.github.com/esperlu/943776/#comment-941738">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-941738">
              <a href="https://gist.github.com/esperlu/943776/#comment-941738" class="comment-header-date">
                <time class="js-relative-date" title="2013-11-01T09:55:21Z" datetime="2013-11-01T09:55:21Z">2 months ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>UTF-8 characters in INSERT command are translated to "?????" . How can I get rid of this?</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/09da8e3a62be136012b21d8cf15e2b72.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-955529">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/lekhnath" class="comment-header-author">lekhnath</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-955529">
              <a href="https://gist.github.com/esperlu/943776/#comment-955529">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-955529">
              <a href="https://gist.github.com/esperlu/943776/#comment-955529" class="comment-header-date">
                <time class="js-relative-date" title="2013-11-22T11:15:12Z" datetime="2013-11-22T11:15:12Z">2 months ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>How can I encrypt the generated sqlite database file 
on the fly. I have seen 'ATTACH DATABASE' sqlite command doing this. I 
think this script would be nice place to do so. But where should I add 
that command ??</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/8d4f92943c0f7963daf5003c8de780a9.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-958017">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/hawkmaster" class="comment-header-author">hawkmaster</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-958017">
              <a href="https://gist.github.com/esperlu/943776/#comment-958017">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-958017">
              <a href="https://gist.github.com/esperlu/943776/#comment-958017" class="comment-header-date">
                <time class="js-relative-date" title="2013-11-26T14:15:39Z" datetime="2013-11-26T14:15:39Z">a month ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Hello<br>
I tried the script from "multigl" to convert my MySQL DB to SQLite<br>
I do the conversion on Windows and I receive a lot of errors like<br>
" AUTOINCREMENT is only allowed on an INTEGER PRIMARY KEY"</p>

<p>I do not know why? My DB has 4 tables with BIGINT instead of INT, Is this the problem?<br>
there are also 3 error "table xyz already exists"<br>
and at the end<br>
"No such table main"</p>

<p>can anybody help me?</p>

<p>thanks a lot<br>
regards<br>
hawk</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/8d4f92943c0f7963daf5003c8de780a9.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-959180">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/hawkmaster" class="comment-header-author">hawkmaster</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-959180">
              <a href="https://gist.github.com/esperlu/943776/#comment-959180">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-959180">
              <a href="https://gist.github.com/esperlu/943776/#comment-959180" class="comment-header-date">
                <time class="js-relative-date" title="2013-11-27T15:57:35Z" datetime="2013-11-27T15:57:35Z">a month ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Is it also possible to create a UNIQUE index? As I 
understand the script makes always "CREATE INDEX" for all keys also if 
there was a Unique index in MySQL?</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/fd1160dc0a99c8ae9cbe744b6ea499fb.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-968204">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/leafgray" class="comment-header-author">leafgray</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-968204">
              <a href="https://gist.github.com/esperlu/943776/#comment-968204">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-968204">
              <a href="https://gist.github.com/esperlu/943776/#comment-968204" class="comment-header-date">
                <time class="js-relative-date" title="2013-12-12T02:57:28Z" datetime="2013-12-12T02:57:28Z">a month ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>helpful, thanks.</p>

<p>I meet a syntax error if MySQL columns have comment definition.<br>
e.g.<br>
create table t_test(<br>
id int comment 'id,primary key'<br>
);</p>

<p>it seems that sqlite3 dose not support comment.<br>
add this line :<br>
 gsub(/ COMMENT/, ", --COMMENT")<br>
after <br>
 gsub(/UNSIGNED|unsigned/, "")</p>

<p>thanks, regards.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/f55fe13bc4f405429877518da8253f84.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-975216">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/smerps" class="comment-header-author">smerps</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-975216">
              <a href="https://gist.github.com/esperlu/943776/#comment-975216">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-975216">
              <a href="https://gist.github.com/esperlu/943776/#comment-975216" class="comment-header-date">
                <time class="js-relative-date" title="2013-12-24T21:15:05Z" datetime="2013-12-24T21:15:05Z">15 days ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Error in MySQL:     insert  </p>

<p>'CA\'   </p>

<p>to SQLITE     'CA\''</p>

<p>No run.</p>

<p>thanks</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/f55fe13bc4f405429877518da8253f84.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-975217">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/smerps" class="comment-header-author">smerps</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-975217">
              <a href="https://gist.github.com/esperlu/943776/#comment-975217">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-975217">
              <a href="https://gist.github.com/esperlu/943776/#comment-975217" class="comment-header-date">
                <time class="js-relative-date" title="2013-12-24T21:23:26Z" datetime="2013-12-24T21:23:26Z">15 days ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Error in MySQL :    Insert  statement    'CA\'   to  SQLite   'CA\''  .</p>

<p>No run.</p>

<p>Thanks.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/f55fe13bc4f405429877518da8253f84.png" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-975218">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/smerps" class="comment-header-author">smerps</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-975218">
              <a href="https://gist.github.com/esperlu/943776/#comment-975218">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-975218">
              <a href="https://gist.github.com/esperlu/943776/#comment-975218" class="comment-header-date">
                <time class="js-relative-date" title="2013-12-24T21:24:26Z" datetime="2013-12-24T21:24:26Z">15 days ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>MySQL son      'CA\\'</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<div class="discussion-bubble js-comment-container">
  <img class="discussion-bubble-avatar" src="sqltosqllite_files/0d85e4c28988491de0f11b499fe30672.jpeg" height="48" width="48">
  <div class="discussion-bubble-content bubble">
    <div class="discussion-bubble-inner">

      <div class="comment js-comment " id="comment-980946">
        <div class="comment-header normal-comment-header">
          <a href="#" class="comment-type-icon octicon octicon-comment"></a>
          <a href="https://gist.github.com/DubFriend" class="comment-header-author">DubFriend</a>
          <span class="comment-header-action-text">
            <span id="gistcomment-980946">
              <a href="https://gist.github.com/esperlu/943776/#comment-980946">commented</a></span>
          </span>
          <span class="comment-header-right">
            <span id="gistcomment-980946">
              <a href="https://gist.github.com/esperlu/943776/#comment-980946" class="comment-header-date">
                <time class="js-relative-date" title="2014-01-06T00:47:20Z" datetime="2014-01-06T00:47:20Z">3 days ago</time>
              </a>
            </span>
          </span>
        </div>


        <div class="comment-content">
          <div class="edit-comment-hide">
            <!-- <div class="comment-form-error">There has been an error</div> -->
            <div class="comment-body markdown-body markdown-format js-comment-body">
                <p>Awesome script, like hawkmaster, I could also use 
support for UNIQUE indexes.  Looks like it is an easy addition, I just 
dont have the awk skills to implement.</p>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

    </div>
      <p class="uncommentable"><span class="octicon octicon-alert"></span> Please <a href="https://gist.github.com/login?return_to=/esperlu/943776" rel="nofollow">sign in</a> to comment on this gist.</p>
  </div>
</div>

  <div class="context-overlay"></div>
</div>

    </div>
    <div class="slow-loading-overlay"></div>
  </div>

  <div id="ajax-error-message" class="flash flash-error">
    <div class="container">
      <span class="octicon octicon-alert"></span>
      Something went wrong with that request. Please try again.
      <a href="#" class="octicon octicon-remove-close ajax-error-dismiss"></a>
    </div>
  </div>

  <footer>
    <div id="footer">
  <div class="container clearfix">

    <!-- Served fresh by github-fe103-cp1-prd.iad.github.net -->
    <p class="right">© 2014 GitHub Inc. All rights reserved.</p>
    <a class="left" href="https://gist.github.com/">
      <span class="mega-octicon octicon-mark-github"></span>
    </a>
    <ul id="legal">
      <li><a href="https://github.com/blog">The GitHub Blog</a></li>
      <li><a href="mailto:support@github.com">Support</a></li>
      <li><a href="https://github.com/contact">Contact</a></li>
    </ul>

  </div><!-- /.container -->
</div><!-- /.#footer -->

  </footer>



</body></html>